(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[934],{1107:function(e,t,r){var n;n=r(4425),r(6113),r(6389),e.exports=n.HmacSHA256},1347:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9085).A)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},1405:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9085).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},1457:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},1510:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=r(5873),i=r(5638),o=r(7986),s=r(6378),a=r(6990),u=r(8443);t.Sha256=function(){function e(e){(0,s.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,a.isMsWindow)((0,u.locateWindow)())?this.hash=new n.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}()},1819:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var r=new Uint8Array(16);e.exports=function(){return t(r),r}}else{var n=Array(16);e.exports=function(){for(var e,t=0;t<16;t++)(3&t)==0&&(e=0x100000000*Math.random()),n[t]=e>>>((3&t)<<3)&255;return n}}},1831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},2463:(e,t,r)=>{!function(){var t={452:function(e){"use strict";e.exports=r(6555)}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}},s=!0;try{t[e](o,o.exports,i),s=!1}finally{s&&delete n[e]}return o.exports}i.ab="//";var o={};!function(){var e,t=(e=i(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=y(e));var n,i,o,s,a,u,c,f,l,h=(i=(n=e).auth,o=n.hostname,s=n.protocol||"",a=n.pathname||"",u=n.hash||"",c=n.query||"",f=!1,i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",n.host?f=i+n.host:o&&(f=i+(~o.indexOf(":")?"["+o+"]":o),n.port&&(f+=":"+n.port)),c&&"object"==typeof c&&(c=t.encode(c)),l=n.search||c&&"?"+c||"",s&&":"!==s.substr(-1)&&(s+=":"),n.slashes||(!s||r.test(s))&&!1!==f?(f="//"+(f||""),a&&"/"!==a[0]&&(a="/"+a)):f||(f=""),u&&"#"!==u[0]&&(u="#"+u),l&&"?"!==l[0]&&(l="?"+l),{protocol:s,host:f,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:l=l.replace("#","%23"),hash:u});return""+h.protocol+h.host+h.pathname+h.search+h.hash}var s="http://",a=s+"w.w",u=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,c=/https?|ftp|gopher|file/;function f(e,t){var r="string"==typeof e?y(e):e;e="object"==typeof e?n(e):e;var i=y(t),o="";r.protocol&&!r.slashes&&(o=r.protocol,e=e.replace(r.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&i.protocol&&(o="",i.slashes||(o=i.protocol,t=t.replace(i.protocol,"")));var f=e.match(u);f&&!i.protocol&&(e=e.substr((o=f[1]+(f[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var l=new URL(e,a+"/"),h=new URL(t,l).toString().replace(a,""),d=i.protocol||r.protocol;return d+=r.slashes||i.slashes?"//":"",!o&&d?h=h.replace(s,d):o&&(h=h.replace(s,"")),c.test(h)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==h.slice(-1)||(h=h.slice(0,-1)),o&&(h=o+("/"===h[0]?h.substr(1):h)),h}function l(){}l.prototype.parse=y,l.prototype.format=n,l.prototype.resolve=f,l.prototype.resolveObject=f;var h=/^https?|ftp|gopher|file/,d=/^(.*?)([#?].*)/,p=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,v=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function y(e,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof l)return e;var o=(e=e.trim()).match(d);e=o?o[1].replace(/\\/g,"/")+o[2]:e.replace(/\\/g,"/"),v.test(e)&&"/"!==e.slice(-1)&&(e+="/");var s=!/(^javascript)/.test(e)&&e.match(p),u=g.test(e),c="";s&&(h.test(s[1])||(c=s[1].toLowerCase(),e=""+s[2]+s[3]),s[2]||(u=!1,h.test(s[1])?(c=s[1],e=""+s[3]):e="//"+s[3]),3!==s[2].length&&1!==s[2].length||(c=s[1],e="/"+s[3]));var f,y=(o?o[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),m=y&&y[1],b=new l,w="",_="";try{f=new URL(e)}catch(t){w=t,c||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(_="/",e=e.substr(1));try{f=new URL(e,a)}catch(e){return b.protocol=c,b.href=c,b}}b.slashes=u&&!_,b.host="w.w"===f.host?"":f.host,b.hostname="w.w"===f.hostname?"":f.hostname.replace(/(\[|\])/g,""),b.protocol=w?c||null:f.protocol,b.search=f.search.replace(/\\/g,"%5C"),b.hash=f.hash.replace(/\\/g,"%5C");var S=e.split("#");!b.search&&~S[0].indexOf("?")&&(b.search="?"),b.hash||""!==S[1]||(b.hash="#"),b.query=r?t.decode(f.search.substr(1)):b.search.substr(1),b.pathname=_+(s?f.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):f.pathname),"about:"===b.protocol&&"blank"===b.pathname&&(b.protocol="",b.pathname=""),w&&"/"!==e[0]&&(b.pathname=b.pathname.substr(1)),c&&!h.test(c)&&"/"!==e.slice(-1)&&"/"===b.pathname&&(b.pathname=""),b.path=b.pathname+b.search,b.auth=[f.username,f.password].map(decodeURIComponent).filter(Boolean).join(":"),b.port=f.port,m&&!b.host.endsWith(m)&&(b.host+=m,b.port=m.slice(1)),b.href=_?""+b.pathname+b.search+b.hash:n(b);var A=/^(file)/.test(b.href)?["host","hostname"]:[];return Object.keys(b).forEach(function(e){~A.indexOf(e)||(b[e]=b[e]||null)}),b}o.parse=y,o.format=n,o.resolve=f,o.resolveObject=function(e,t){return y(f(e,t))},o.Url=l}(),e.exports=o}()},2557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var n=r(9921),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"==typeof e&&"object"==typeof e.crypto&&"function"==typeof e.crypto.getRandomValues}function s(e){return e&&i.every(function(t){return"function"==typeof e[t]})}t.supportsWebCrypto=function(e){return!!o(e)&&"object"==typeof e.crypto.subtle&&s(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=s,t.supportsZeroByteGCM=function(e){return n.__awaiter(this,void 0,void 0,function(){var t;return n.__generator(this,function(r){switch(r.label){case 0:if(!s(e))return[2,!1];r.label=1;case 1:return r.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=r.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===r.sent().byteLength];case 4:return r.sent(),[2,!1];case 5:return[2]}})})}},2566:function(e,t,r){var n;n=r(4425),function(){if("function"==typeof ArrayBuffer){var e=n.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=e[i]<<24-i%4*8;t.call(this,n,r)}else t.apply(this,arguments)}).prototype=e}}(),e.exports=n.lib.WordArray},2763:(e,t,r)=>{"use strict";r.r(t),r.d(t,{fromUtf8:()=>o,toUtf8:()=>s});var n=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var i=e.charCodeAt(r);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(r+1<e.length&&(64512&i)==55296&&(64512&e.charCodeAt(r+1))==56320){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)},i=function(e){for(var t="",r=0,n=e.length;r<n;r++){var i=e[r];i<128?t+=String.fromCharCode(i):192<=i&&i<224?t+=String.fromCharCode((31&i)<<6|63&e[++r]):240<=i&&i<365?t+=decodeURIComponent("%"+[i,e[++r],e[++r],e[++r]].map(function(e){return e.toString(16)}).join("%")):t+=String.fromCharCode((15&i)<<12|(63&e[++r])<<6|63&e[++r])}return t},o=function(e){return"function"==typeof TextEncoder?new TextEncoder().encode(e):n(e)},s=function(e){return"function"==typeof TextDecoder?new TextDecoder("utf-8").decode(e):i(e)}},2846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3126:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3530:(e,t,r)=>{"use strict";var n=r(5095).hp;Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var i=r(2763),o=void 0!==n&&n.from?function(e){return n.from(e,"utf8")}:i.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"==typeof e?o(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},3800:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},3946:function(e,t,r){var n,i;i=(n=r(4425)).lib.WordArray,n.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var s=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,a=0;a<4&&o+.75*a<r;a++)i.push(n.charAt(s>>>6*(3-a)&63));var u=n.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var o=0;o<r.length;o++)n[r.charCodeAt(o)]=o}var s=r.charAt(64);if(s){var a=e.indexOf(s);-1!==a&&(t=a)}return function(e,t,r){for(var n=[],o=0,s=0;s<t;s++)if(s%4){var a=r[e.charCodeAt(s-1)]<<s%4*2|r[e.charCodeAt(s)]>>>6-s%4*2;n[o>>>2]|=a<<24-o%4*8,o++}return i.create(n,o)}(e,t,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},e.exports=n.enc.Base64},4144:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9085).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},4323:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18);t.default=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map(function(e){return parseInt(e,10)||0});if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(r),s=Math.max(i,o),a=0,u=e.map([t,r],function(t){var r=s-e.getVersionPrecision(t),n=t+Array(r+1).join(".0");return e.map(n.split("."),function(e){return Array(20-e.length).join("0")+e}).reverse()});for(n&&(a=s-Math.min(i,o)),s-=1;s>=a;){if(u[0][s]>u[1][s])return 1;if(u[0][s]===u[1][s]){if(s===a)return 0;s-=1}else if(u[0][s]<u[1][s])return -1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));for(t=0,r=i.length;t<r;t+=1)(function(){var r=i[t];"object"==typeof r&&null!==r&&Object.keys(r).forEach(function(t){e[t]=r[t]})})();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}(),e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},o=r(18);t.default=function(){function e(){}return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e,[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}]),e}(),e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),o=u(r(94)),s=u(r(95)),a=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=a.default.find(n.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=a.default.find(i.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=a.default.find(o.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=a.default.find(s.default,function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some(function(t){return e.test(t)});throw Error("Browser's test function is not valid")});return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return a.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},o=0;if(Object.keys(e).forEach(function(t){var s=e[t];"string"==typeof s?(i[t]=s,o+=1):"object"==typeof s&&(r[t]=s,n+=1)}),n>0){var s=Object.keys(r),u=a.default.find(s,function(e){return t.isOS(e)});if(u){var c=this.satisfies(r[u]);if(void 0!==c)return c}var f=a.default.find(s,function(e){return t.isPlatform(e)});if(f){var l=this.satisfies(r[f]);if(void 0!==l)return l}}if(o>0){var h=Object.keys(i),d=a.default.find(h,function(e){return t.isBrowser(e,!0)});if(void 0!==d)return this.compareVersion(i[d])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=a.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(a.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some(function(e){return t.is(e)})},e}(),e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=/version\/(\d+(\.?_?\d+)+)/i;t.default=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=i.default.getFirstMatch(o,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}],e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18);t.default=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=i.default.getMacOSVersionName(t),n={name:o.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:o.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:o.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}],e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18);t.default=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}],e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},o=r(18);t.default=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}],e.exports=t.default}})},4342:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=r(9921),i=r(9812),o=r(8347),s=r(6162);t.Sha256=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,s.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var r=new o.RawSha256;r.update(t),t=r.digest()}var n=new Uint8Array(i.BLOCK_SIZE);return n.set(t),n}(e),r=new Uint8Array(i.BLOCK_SIZE);r.set(t);for(var n=0;n<i.BLOCK_SIZE;n++)t[n]^=54,r[n]^=92;this.hash.update(t),this.outer.update(r);for(var n=0;n<t.byteLength;n++)t[n]=0}}return e.prototype.update=function(e){if(!(0,s.isEmptyData)(e)&&!this.error)try{this.hash.update((0,s.convertToBuffer)(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,n.__awaiter)(this,void 0,void 0,function(){return(0,n.__generator)(this,function(e){return[2,this.digestSync()]})})},e}()},4384:(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=5960464477539062e-23*(23===i),d=n?0:o-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+l>=1?t+=h/u:t+=h*Math.pow(2,1-l),t*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=p,s/=256,c-=8);e[r+d-p]|=128*g}},4425:function(e,t,r){var n;e.exports=n||function(e,t){if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==r.g&&r.g.crypto&&(n=r.g.crypto),!n)try{n=r(3936)}catch(e){}var n,i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),s={},a=s.lib={},u=a.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=u.extend({init:function(e,r){e=this.words=e||[],t!=r?this.sigBytes=r:this.sigBytes=4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(var a=0;a<i;a+=4)t[n+a>>>2]=r[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=0xffffffff<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(i());return new c.init(t,e)}}),f=s.enc={},l=f.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},h=f.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},d=f.Utf8={stringify:function(e){try{return decodeURIComponent(escape(h.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return h.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,s=this.blockSize,a=o/(4*s),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*s,f=e.min(4*u,o);if(u){for(var l=0;l<u;l+=s)this._doProcessBlock(i,l);r=i.splice(0,u),n.sigBytes-=f}return new c.init(r,f)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});a.Hasher=p.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new g.HMAC.init(e,r).finalize(t)}}});var g=s.algo={};return s}(Math)},4489:(e,t)=>{"use strict";t.byteLength=function(e){var t=u(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=u(e),s=o[0],a=o[1],c=new i((s+a)*3/4-a),f=0,l=a>0?s-4:s;for(r=0;r<l;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[f++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(function(e,t,n){for(var i,o=[],s=t;s<n;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function u(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},4538:e=>{for(var t=[],r=0;r<256;++r)t[r]=(r+256).toString(16).substr(1);e.exports=function(e,r){var n=r||0;return[t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],"-",t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]],t[e[n++]]].join("")}},4630:(e,t,r)=>{"use strict";r.d(t,{Kd:()=>o,cS:()=>n});var n=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){return!!e&&"number"==typeof e.statusCode&&"object"==typeof e.headers},e}(),i=r(9921),o=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){return!!e&&"method"in e&&"protocol"in e&&"hostname"in e&&"path"in e&&"object"==typeof e.query&&"object"==typeof e.headers},e.prototype.clone=function(){var t,r=new e((0,i.__assign)((0,i.__assign)({},this),{headers:(0,i.__assign)({},this.headers)}));return r.query&&(r.query=Object.keys(t=r.query).reduce(function(e,r){var n,o=t[r];return(0,i.__assign)((0,i.__assign)({},e),((n={})[r]=Array.isArray(o)?(0,i.__spread)(o):o,n))},{})),r},e}()},4878:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5051:(e,t,r)=>{var n=r(1819),i=r(4538);e.exports=function(e,t,r){var o=t&&r||0;"string"==typeof e&&(t="binary"===e?Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||n)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},5095:(e,t,r)=>{"use strict";var n=r(4489),i=r(4384),o=r(1457);function s(){return u.TYPED_ARRAY_SUPPORT?0x7fffffff:0x3fffffff}function a(e,t){if(s()<t)throw RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,r){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,r);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return l(this,e)}return c(this,e,t,r)}function c(e,t,r,n){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=h(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!u.isEncoding(r))throw TypeError('"encoding" must be a valid string encoding');var n=0|p(t,r),i=(e=a(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(u.isBuffer(t)){var r,n=0|d(t.length);return 0===(e=a(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t){return"number"!=typeof t.length||(r=t.length)!=r?a(e,0):h(e,t)}if("Buffer"===t.type&&o(t.data))return h(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function f(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function l(e,t){if(f(t),e=a(e,t<0?0:0|d(t)),!u.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function h(e,t){var r=t.length<0?0:0|d(t.length);e=a(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function d(e){if(e>=s())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return k(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function g(e,t,r){var i,o,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",s=t;s<r;++s){o+=(n=e[s])<16?"0"+n.toString(16):n.toString(16)}return o}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,o=t,s=r,0===o&&s===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(o,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function v(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function y(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),isNaN(r*=1)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return(t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var f=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===f?0:o-f)){if(-1===f&&(f=o),o-f+1===u)return f*s}else -1!==f&&(o-=o-f),f=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var l=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){l=!1;break}if(l)return o}return -1}t.hp=u,t.IS=50,u.TYPED_ARRAY_SUPPORT=void 0!==r.g.TYPED_ARRAY_SUPPORT?r.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),s(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,r){return c(null,e,t,r)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,r){return(f(e),e<=0)?a(null,e):void 0!==t?"string"==typeof r?a(null,e).fill(t,r):a(null,e).fill(t):a(null,e)},u.allocUnsafe=function(e){return l(null,e)},u.allocUnsafeSlow=function(e){return l(null,e)},u.isBuffer=function(e){return!!(null!=e&&e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=u.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if(!u.isBuffer(s))throw TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?b(this,0,e):g.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",r=t.IS;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,r,n,i){if(!u.isBuffer(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,s=r-t,a=Math.min(o,s),c=this.slice(n,i),f=e.slice(t,r),l=0;l<a;++l)if(c[l]!==f[l]){o=c[l],s=f[l];break}return o<s?-1:+(s<o)},u.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return y(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return y(this,e,t,r,!1)};function b(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,c=e[i],f=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(f=c);break;case 2:(192&(o=e[i+1]))==128&&(u=(31&c)<<6|63&o)>127&&(f=u);break;case 3:o=e[i+1],s=e[i+2],(192&o)==128&&(192&s)==128&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(f=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],(192&o)==128&&(192&s)==128&&(192&a)==128&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(f=u)}null===f?(f=65533,l=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function _(e,t,r,n,i,o){if(!u.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function S(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function A(e,t,r,n){t<0&&(t=0xffffffff+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>(n?i:3-i)*8&255}function C(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function E(e,t,r,n,o){return o||C(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function I(e,t,r,n,o){return o||C(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,s,a,u,c,f,l,h=this.length-t;if((void 0===r||r>h)&&(r=h),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var d=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))break;e[r+s]=a}return s}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,O(U(e,this.length-i),this,i,o);case"ascii":return s=t,a=r,O(T(e),this,s,a);case"latin1":case"binary":return function(e,t,r,n){return O(T(t),e,r,n)}(this,e,t,r);case"base64":return u=t,c=r,O(k(e),this,u,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f=t,l=r,O(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-f),this,f,l);default:if(d)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),d=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;r=new u(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},u.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||w(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||w(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUInt8=function(e,t){return t||w(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||w(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||w(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||w(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||w(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return(t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},u.prototype.readInt16LE=function(e,t){t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},u.prototype.readInt16BE=function(e,t){t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},u.prototype.readInt32LE=function(e,t){return t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||w(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||w(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||w(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||w(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}var o=1,s=0;for(this[t]=255&e;++s<r&&(o*=256);)this[t+s]=e/o&255;return t+r},u.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;_(this,e,t,r,i,0)}var o=r-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+r},u.prototype.writeUInt8=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):S(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):S(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,4,0xffffffff,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):A(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,4,0xffffffff,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t|=0,!n){var i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t|=0,!n){var i=Math.pow(2,8*r-1);_(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):S(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):S(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):A(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,r){return e*=1,t|=0,r||_(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):A(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,r){return E(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return E(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return I(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return I(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("sourceStart out of bounds");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},u.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i,o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!u.isEncoding(n))throw TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var s=u.isBuffer(e)?e:U(new u(e,n).toString()),a=s.length;for(i=0;i<r-t;++i)this[i+t]=s[i%a]}return this};var P=/[^+\/0-9A-Za-z-_]/g;function U(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319||s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function T(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function k(e){return n.toByteArray(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function O(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}},5368:e=>{"use strict";e.exports=self.fetch.bind(self),e.exports.default=e.exports},5481:(e,t,r)=>{"use strict";r.d(t,{N:()=>m});var n=r(3324),i=r(5744),o=r(1391),s=r(6531),a=r(5420),u=r(8411),c=r(3153),f=r(4962);class l extends i.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.s)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h(e){let{children:t,isPresent:r,anchorX:o}=e,s=(0,i.useId)(),a=(0,i.useRef)(null),u=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,i.useContext)(f.Q);return(0,i.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:i,right:f}=u.current;if(r||!a.current||!e||!t)return;a.current.dataset.motionPopId=s;let l=document.createElement("style");return c&&(l.nonce=c),document.head.appendChild(l),l.sheet&&l.sheet.insertRule('\n          [data-motion-pop-id="'.concat(s,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===o?"left: ".concat(i):"right: ".concat(f),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{document.head.contains(l)&&document.head.removeChild(l)}},[r]),(0,n.jsx)(l,{isPresent:r,childRef:a,sizeRef:u,children:i.cloneElement(t,{ref:a})})}let d=e=>{let{children:t,initial:r,isPresent:o,onExitComplete:a,custom:c,presenceAffectsLayout:f,mode:l,anchorX:d}=e,g=(0,s.M)(p),v=(0,i.useId)(),y=!0,m=(0,i.useMemo)(()=>(y=!1,{id:v,initial:r,isPresent:o,custom:c,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;a&&a()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[o,g,a]);return f&&y&&(m={...m}),(0,i.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[o]),i.useEffect(()=>{o||g.size||!a||a()},[o]),"popLayout"===l&&(t=(0,n.jsx)(h,{isPresent:o,anchorX:d,children:t})),(0,n.jsx)(u.t.Provider,{value:m,children:t})};function p(){return new Map}var g=r(7260);let v=e=>e.key||"";function y(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let m=e=>{let{children:t,custom:r,initial:u=!0,onExitComplete:c,presenceAffectsLayout:f=!0,mode:l="sync",propagate:h=!1,anchorX:p="left"}=e,[m,b]=(0,g.xQ)(h),w=(0,i.useMemo)(()=>y(t),[t]),_=h&&!m?[]:w.map(v),S=(0,i.useRef)(!0),A=(0,i.useRef)(w),C=(0,s.M)(()=>new Map),[E,I]=(0,i.useState)(w),[P,U]=(0,i.useState)(w);(0,a.E)(()=>{S.current=!1,A.current=w;for(let e=0;e<P.length;e++){let t=v(P[e]);_.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[P,_.length,_.join("-")]);let T=[];if(w!==E){let e=[...w];for(let t=0;t<P.length;t++){let r=P[t],n=v(r);_.includes(n)||(e.splice(t,0,r),T.push(r))}return"wait"===l&&T.length&&(e=T),U(y(e)),I(w),null}let{forceRender:k}=(0,i.useContext)(o.L);return(0,n.jsx)(n.Fragment,{children:P.map(e=>{let t=v(e),i=(!h||!!m)&&(w===P||_.includes(t));return(0,n.jsx)(d,{isPresent:i,initial:(!S.current||!!u)&&void 0,custom:r,presenceAffectsLayout:f,mode:l,onExitComplete:i?void 0:()=>{if(!C.has(t))return;C.set(t,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(null==k||k(),U(A.current),h&&(null==b||b()),c&&c())},anchorX:p,children:e},t)})})}},5638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=r(6162),i=r(8475),o=r(8443);t.Sha256=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise(function(t,r){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,n.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,r)}),this.key.catch(function(){}))}return e.prototype.update=function(e){if(!(0,n.isEmptyData)(e)){var t=(0,n.convertToBuffer)(e),r=new Uint8Array(this.toHash.byteLength+t.byteLength);r.set(this.toHash,0),r.set(t,this.toHash.byteLength),this.toHash=r}},e.prototype.digest=function(){var e=this;return this.key?this.key.then(function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then(function(e){return new Uint8Array(e)})}):(0,n.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then(function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)}).then(function(e){return Promise.resolve(new Uint8Array(e))})},e}()},5824:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5873:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=r(1831),i=r(8475),o=r(2763),s=r(8443);function a(e){return"string"==typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=function(){function e(e){var t;e?(this.operation=(t=e,new Promise(function(e,r){var n=(0,s.locateWindow)().msCrypto.subtle.importKey("raw",a(t),i.SHA_256_HMAC_ALGO,!1,["sign"]);n.oncomplete=function(){n.result&&e(n.result),r(Error("ImportKey completed without importing key."))},n.onerror=function(){r(Error("ImportKey failed to import key."))}})).then(function(e){return(0,s.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)}),this.operation.catch(function(){})):this.operation=Promise.resolve((0,s.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;!(0,n.isEmptyData)(e)&&(this.operation=this.operation.then(function(r){return r.onerror=function(){t.operation=Promise.reject(Error("Error encountered updating hash"))},r.process(a(e)),r}),this.operation.catch(function(){}))},e.prototype.digest=function(){return this.operation.then(function(e){return new Promise(function(t,r){e.onerror=function(){r(Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),r(Error("Error encountered finalizing hash"))},e.finish()})})},e}()},6113:function(e,t,r){var n,i,o,s,a,u,c,f,l,h;n=r(4425),i=Math,s=(o=n.lib).WordArray,a=o.Hasher,u=n.algo,c=[],f=[],function(){function e(e){return(e-(0|e))*0x100000000|0}for(var t=2,r=0;r<64;)(function(e){for(var t=i.sqrt(e),r=2;r<=t;r++)if(!(e%r))return!1;return!0})(t)&&(r<8&&(c[r]=e(i.pow(t,.5))),f[r]=e(i.pow(t,1/3)),r++),t++}(),l=[],h=u.SHA256=a.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],c=r[6],h=r[7],d=0;d<64;d++){if(d<16)l[d]=0|e[t+d];else{var p=l[d-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,v=l[d-2],y=(v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10;l[d]=g+l[d-7]+y+l[d-16]}var m=a&u^~a&c,b=n&i^n&o^i&o,w=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+m+f[d]+l[d],S=w+b;h=c,c=u,u=a,a=s+_|0,s=o,o=i,i=n,n=_+S|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+c|0,r[7]=r[7]+h|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[(n+64>>>9<<4)+14]=i.floor(r/0x100000000),t[(n+64>>>9<<4)+15]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA256=a._createHelper(h),n.HmacSHA256=a._createHmacHelper(h),e.exports=n.SHA256},6162:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var n=r(3530);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return n.convertToBuffer}});var i=r(8608);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=r(7869);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var s=r(3800);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return s.uint32ArrayFrom}})},6186:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var r=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if("MSInputMethodContext"in e&&"msCrypto"in e&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,n=t.getRandomValues,i=t.subtle;return r.map(function(e){return i[e]}).concat(n).every(function(e){return"function"==typeof e})}return!1}},6378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r(9921).__exportStar(r(2557),t)},6389:function(e,t,r){var n,i,o;e.exports=void(i=(n=r(4425)).lib.Base,o=n.enc.Utf8,n.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,u=s.words,c=0;c<r;c++)a[c]^=0x5c5c5c5c,u[c]^=0x36363636;i.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}}))},6555:e=>{!function(){"use strict";var t={815:function(e){e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(r);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var u=e.length;a>0&&u>a&&(u=a);for(var c=0;c<u;++c){var f,l,h,d,p=e[c].replace(s,"%20"),g=p.indexOf(n);(g>=0?(f=p.substr(0,g),l=p.substr(g+1)):(f=p,l=""),h=decodeURIComponent(f),d=decodeURIComponent(l),Object.prototype.hasOwnProperty.call(o,h))?t(o[h])?o[h].push(d):o[h]=[o[h],d]:o[h]=d}return o};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,s,a){return(o=o||"&",s=s||"=",null===e&&(e=void 0),"object"==typeof e)?n(i(e),function(i){var a=encodeURIComponent(t(i))+s;return r(e[i])?n(e[i],function(e){return a+encodeURIComponent(t(e))}).join(o):a+encodeURIComponent(t(e[i]))}).join(o):a?encodeURIComponent(t(a))+s+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},s=!0;try{t[e](o,o.exports,n),s=!1}finally{s&&delete r[e]}return o.exports}n.ab="//";var i={};i.decode=i.parse=n(815),i.encode=i.stringify=n(577),e.exports=i}()},6668:(e,t,r)=>{var n,i,o=r(1819),s=r(4538),a=0,u=0;e.exports=function(e,t,r){var c=t&&r||0,f=t||[],l=(e=e||{}).node||n,h=void 0!==e.clockseq?e.clockseq:i;if(null==l||null==h){var d=o();null==l&&(l=n=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==h&&(h=i=(d[6]<<8|d[7])&16383)}var p=void 0!==e.msecs?e.msecs:new Date().getTime(),g=void 0!==e.nsecs?e.nsecs:u+1,v=p-a+(g-u)/1e4;if(v<0&&void 0===e.clockseq&&(h=h+1&16383),(v<0||p>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,u=g,i=h;var y=((0xfffffff&(p+=122192928e5))*1e4+g)%0x100000000;f[c++]=y>>>24&255,f[c++]=y>>>16&255,f[c++]=y>>>8&255,f[c++]=255&y;var m=p/0x100000000*1e4&0xfffffff;f[c++]=m>>>8&255,f[c++]=255&m,f[c++]=m>>>24&15|16,f[c++]=m>>>16&255,f[c++]=h>>>8|128,f[c++]=255&h;for(var b=0;b<6;++b)f[c+b]=l[b];return t||s(f)}},6912:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9085).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6990:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9921);n.__exportStar(r(5824),t),n.__exportStar(r(3126),t),n.__exportStar(r(4878),t),n.__exportStar(r(2846),t),n.__exportStar(r(6186),t)},7240:(e,t,r)=>{"use strict";r.d(t,{C6:()=>i,Cl:()=>o,YH:()=>a,sH:()=>s,zs:()=>u});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function a(e,t){var r,n,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(u){return function(a){if(r)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(r=1,n&&(i=2&a[0]?n.return:a[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,a[1])).done)return i;switch(n=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,n=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],n=0}finally{r=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function u(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}Object.create,"function"==typeof SuppressedError&&SuppressedError},7508:(e,t)=>{"use strict";t.q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var n={},i=e.split(";"),o=(t||{}).decode||r,s=0;s<i.length;s++){var a=i[s],u=a.indexOf("=");if(!(u<0)){var c=a.substring(0,u).trim();if(void 0==n[c]){var f=a.substring(u+1,a.length).trim();'"'===f[0]&&(f=f.slice(1,-1)),n[c]=function(e,t){try{return t(e)}catch(t){return e}}(f,o)}}}return n},t.l=function(e,t,r){var o=r||{},s=o.encode||n;if("function"!=typeof s)throw TypeError("option encode is invalid");if(!i.test(e))throw TypeError("argument name is invalid");var a=s(t);if(a&&!i.test(a))throw TypeError("argument val is invalid");var u=e+"="+a;if(null!=o.maxAge){var c=o.maxAge-0;if(isNaN(c)||!isFinite(c))throw TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(o.domain){if(!i.test(o.domain))throw TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!=typeof o.expires.toUTCString)throw TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}if(o.httpOnly&&(u+="; HttpOnly"),o.secure&&(u+="; Secure"),o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"none":u+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return u};var r=decodeURIComponent,n=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},7762:(e,t,r)=>{"use strict";function n(e){return e&&!!["provider"].find(function(t){return e.hasOwnProperty(t)})}function i(e){return void 0!==e.redirectSignIn}r.d(t,{N:()=>ig}),function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(o||(o={})),!function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError",e.AutoSignInError="autoSignInError"}(s||(s={})),!function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(a||(a={}));var o,s,a,u,c,f,l,h,d,p,g,v,y,m,b,w,_,S,A,C,E,I,P,U,T,k,O,M,x,R,D,F,N,L,j,B,H,q,K,V,z,W,G,Y,J,Z,Q,X,$,ee,et,er,en,ei,eo,es,ea,eu,ec,ef,el,eh,ed,ep,eg,ev,ey=function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},em=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},eb=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(em(arguments[t]));return e},ew={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(u||(u={}));var e_=function(){function e(e,t){void 0===t&&(t=u.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e&&(this._config=e),this._config},e.prototype._log=function(t){for(var r,n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var s=this.level;e.LOG_LEVEL&&(s=e.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(s=window.LOG_LEVEL);var a=ew[s];if(ew[t]>=a){var c=console.log.bind(console);t===u.ERROR&&console.error&&(c=console.error.bind(console)),t===u.WARN&&console.warn&&(c=console.warn.bind(console));var f="["+t+"] "+this._ts()+" "+this.name,l="";if(1===i.length&&"string"==typeof i[0])c(l=f+" - "+i[0]);else if(1===i.length)l=f+" "+i[0],c(f,i[0]);else if("string"==typeof i[0]){var h=i.slice(1);1===h.length&&(h=h[0]),l=f+" - "+i[0]+" "+h,c(f+" - "+i[0],h)}else l=f+" "+i,c(f,i);try{for(var d=ey(this._pluggables),p=d.next();!p.done;p=d.next()){var g=p.value,v={message:l,timestamp:Date.now()};g.pushLogs([v])}}catch(e){r={error:e}}finally{try{p&&!p.done&&(n=d.return)&&n.call(d)}finally{if(r)throw r.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,eb([u.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,eb([u.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,eb([u.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,eb([u.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,eb([u.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,eb([u.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),eS=function(){return(eS=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},eA=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},eC=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eA(arguments[t]));return e},eE=new e_("Hub"),eI="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",eP=new(function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var r=this.patterns.find(function(t){return t.pattern.source===e.source});if(!r){eE.warn("No listeners for "+e);return}this.patterns=eC(this.patterns.filter(function(e){return e!==r}))}else{var n=this.listeners[e];if(!n){eE.warn("No listeners for "+e);return}this.listeners[e]=eC(n.filter(function(e){return e.callback!==t}))}},e.prototype.dispatch=function(e,t,r,n){void 0===r&&(r=""),this.protectedChannels.indexOf(e)>-1&&n!==eI&&eE.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences");var i={channel:e,payload:eS({},t),source:r,patternInfo:[]};try{this._toListeners(i)}catch(e){eE.error(e)}},e.prototype.listen=function(e,t,r){var n,i=this;if(void 0===r&&(r="noname"),void 0!==t.onHubCapsule)eE.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),n=t.onHubCapsule.bind(t);else if("function"!=typeof t)throw Error("No callback supplied to Hub");else n=t;if(e instanceof RegExp)this.patterns.push({pattern:e,callback:n});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:r,callback:n})}return function(){i.remove(e,n)}},e.prototype._toListeners=function(e){var t=e.channel,r=e.payload,n=this.listeners[t];if(n&&n.forEach(function(n){eE.debug("Dispatching to "+t+" with ",r);try{n.callback(e)}catch(e){eE.error(e)}}),this.patterns.length>0){if(!r.message){eE.warn("Cannot perform pattern matching without a message key");return}var i=r.message;this.patterns.forEach(function(t){var r=i.match(t.pattern);if(r){var n=eA(r).slice(1),o=eS(eS({},e),{patternInfo:n});try{t.callback(o)}catch(e){eE.error(e)}}})}},e}())("__default__"),eU={},eT=function(){function e(){}return e.setItem=function(e,t){return eU[e]=t,eU[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(eU,e)?eU[e]:void 0},e.removeItem=function(e){return delete eU[e]},e.clear=function(){return eU={}},e}(),ek=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(e){this.storageWindow=eT}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),eO=r(8730),eM=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],ex=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},eR=function(e,t,r){if(!e||!e.sort)return!1;var n=r&&"desc"===r?-1:1;return e.sort(function(e,r){var i=e[t],o=r[t];return void 0===o?void 0===i?0:+n:void 0===i||i<o?-1*n:i>o?+n:0}),!0},eD=function(e,t){var r=Object.assign({},e);return t&&("string"==typeof t?delete r[t]:t.forEach(function(e){delete r[e]})),r},eF=function(e,t){void 0===t&&(t="application/octet-stream");var r=e.toLowerCase(),n=eM.filter(function(e){return r.endsWith("."+e.ext)});return n.length>0?n[0].type:t},eN=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||"application/json"===t||"application/xml"===t||"application/sh"===t},eL=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=32;r>0;r-=1)e+=t[Math.floor(Math.random()*t.length)];return e},ej=function(e){if(e.isResolved)return e;var t=!0,r=!1,n=!1,i=e.then(function(e){return n=!0,t=!1,e},function(e){throw r=!0,t=!1,e});return i.isFullfilled=function(){return n},i.isPending=function(){return t},i.isRejected=function(){return r},i},eB=function(){if("undefined"==typeof self)return!1;var e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},eH=function(){return{isBrowser:"undefined"!=typeof window&&void 0!==window.document,isNode:void 0!==eO&&null!=eO.versions&&null!=eO.versions.node}},eq=function(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),!eV(e))return e;var n={};for(var i in e)e.hasOwnProperty(i)&&(n[t.includes(i)?i:i[0].toLowerCase()+i.slice(1)]=r.includes(i)?e[i]:eq(e[i],t,r));return n},eK=function(e,t,r){if(void 0===t&&(t=[]),void 0===r&&(r=[]),!eV(e))return e;var n={};for(var i in e)e.hasOwnProperty(i)&&(n[t.includes(i)?i:i[0].toUpperCase()+i.slice(1)]=r.includes(i)?e[i]:eK(e[i],t,r));return n},eV=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)};!function(){function e(){}e.isEmpty=ex,e.sortByField=eR,e.objectLessAttributes=eD,e.filenameToContentType=eF,e.isTextFile=eN,e.generateRandomString=eL,e.makeQuerablePromise=ej,e.isWebWorker=eB,e.browserOrNode=eH,e.transferKeyToLowerCase=eq,e.transferKeyToUpperCase=eK,e.isStrictObject=eV}();var ez=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),eW=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},eG=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},eY=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},eJ=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(eY(arguments[t]));return e},eZ=new e_("Util"),eQ=function(e){function t(t){var r=e.call(this,t)||this;return r.nonRetryable=!0,r}return ez(t,e),t}(Error),eX=function(e,t,r,n){var i;return void 0===r&&(r=3e5),function(e,t,r,n){return eW(this,void 0,void 0,function(){var i=this;return eG(this,function(o){if("function"!=typeof e)throw Error("functionToRetry must be a function");return[2,new Promise(function(o,s){return eW(i,void 0,void 0,function(){var i,a,u,c,f,l,h;return eG(this,function(d){switch(d.label){case 0:i=0,a=!1,c=function(){},n&&n.then(function(){a=!0,clearTimeout(u),c()}),l=function(){var n,l,h,d;return eG(this,function(p){switch(p.label){case 0:i++,eZ.debug(e.name+" attempt #"+i+" with this vars: "+JSON.stringify(t)),p.label=1;case 1:return p.trys.push([1,3,,7]),n={},l=o,[4,e.apply(void 0,eJ(t))];case 2:return[2,(n.value=l.apply(void 0,[p.sent()]),n)];case 3:if(f=h=p.sent(),eZ.debug("error on "+e.name,h),h&&h.nonRetryable)return eZ.debug(e.name+" non retryable error",h),[2,{value:s(h)}];if(d=r(i,t,h),eZ.debug(e.name+" retrying in "+d+" ms"),!(!1===d||a))return[3,4];return[2,{value:s(h)}];case 4:return[4,new Promise(function(e){u=setTimeout(c=e,d)})];case 5:p.sent(),p.label=6;case 6:return[3,7];case 7:return[2]}})},d.label=1;case 1:if(a)return[3,3];return[5,l()];case 2:if("object"==typeof(h=d.sent()))return[2,h.value];return[3,1];case 3:return s(f),[2]}})})})]})})}(e,t,(void 0===(i=r)&&(i=3e5),function(e){var t=100*Math.pow(2,e)+100*Math.random();return!(t>i)&&t}),n)},e$=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e0=new e_("CognitoCredentials"),e1=new Promise(function(e,t){return eH().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(e0.debug("google api already loaded"),e()):void setTimeout(function(){return e()},2e3):(e0.debug("not in the browser, directly resolved"),e())}),e2=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function(){return e$(this,function(e){switch(e.label){case 0:if(this.initialized)return[3,2];return e0.debug("need to wait for the Google SDK loaded"),[4,e1];case 1:e.sent(),this.initialized=!0,e0.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}})},new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return(eH().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e)?new Promise(function(t,r){e.getAuthInstance().then(function(e){e||(e0.debug("google Auth undefined"),r(new eQ("google Auth undefined")));var n=e.currentUser.get();n.isSignedIn()?(e0.debug("refreshing the google access token"),n.reloadAuthResponse().then(function(e){t({token:e.id_token,expires_at:e.expires_at})}).catch(function(e){e&&"network_error"===e.error?r("Network error reloading google auth response"):r(new eQ("Failed to reload google auth response"))})):r(new eQ("User is not signed in with Google"))}).catch(function(e){e0.debug("Failed to refresh google token",e),r(new eQ("Failed to refresh google token"))})}):(e0.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),e3=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},e6=new e_("CognitoCredentials"),e4=new Promise(function(e,t){return eH().isBrowser?window.FB?(e6.debug("FB SDK already loaded"),e()):void setTimeout(function(){return e()},2e3):(e6.debug("not in the browser, directly resolved"),e())}),e5=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function(){return e3(this,function(e){switch(e.label){case 0:if(this.initialized)return[3,2];return e6.debug("need to wait for the Facebook SDK loaded"),[4,e4];case 1:e.sent(),this.initialized=!0,e6.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}})},new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(eH().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return e6.debug(t),Promise.reject(new eQ(t))}return new Promise(function(t,r){e.getLoginStatus(function(e){if(e&&e.authResponse){var n=e.authResponse,i=n.accessToken,o=1e3*n.expiresIn+new Date().getTime();if(!i){var s="the jwtToken is undefined";e6.debug(s),r(new eQ(s))}t({token:i,expires_at:o})}else{var s="no response from facebook when refreshing the jwt token";e6.debug(s),r(new eQ(s))}},{scope:"public_profile,email"})})},e}(),e8=new e2,e7=new e5,e9=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},te=new e_("Amplify"),tt=new(function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=e_,this.ServiceWorker=null}return e.prototype.register=function(e){te.debug("component registered in amplify",e),this._components.push(e),"function"==typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):te.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e&&(this._config=Object.assign(this._config,e),te.debug("amplify config",this._config),Object.entries(this._modules).forEach(function(e){var r=e9(e,2),n=(r[0],r[1]);Object.keys(n).forEach(function(e){t._modules[e]&&(n[e]=t._modules[e])})}),this._components.map(function(e){e.configure(t._config)})),this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"==typeof e.getCategory&&this._components.map(function(t){t.addPluggable&&"function"==typeof t.addPluggable&&t.addPluggable(e)})},e}()),tr=r(9921),tn=r(7240);!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(c||(c={})),(f||(f={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(l||(l={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(h||(h={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(d||(d={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(p||(p={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(g||(g={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(v||(v={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(y||(y={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(m||(m={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(b||(b={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(w||(w={})),(_||(_={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(S||(S={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(A||(A={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(C||(C={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(E||(E={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(I||(I={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(P||(P={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(U||(U={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(T||(T={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(k||(k={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(O||(O={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(M||(M={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(x||(x={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(R||(R={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(D||(D={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(F||(F={})),(N||(N={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(L||(L={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},function(e){e.RULES="Rules",e.TOKEN="Token"}(j||(j={})),(B||(B={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(H||(H={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(q||(q={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(K||(K={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(V||(V={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(z||(z={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(W||(W={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(G||(G={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(Y||(Y={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(J||(J={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(Z||(Z={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(Q||(Q={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(X||(X={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},($||($={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(ee||(ee={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(et||(et={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(er||(er={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(en||(en={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(ei||(ei={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(eo||(eo={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(es||(es={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(ea||(ea={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(eu||(eu={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(ec||(ec={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(ef||(ef={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)},(el||(el={})).filterSensitiveLog=function(e){return(0,tn.Cl)({},e)};var ti=r(2761),to={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},ts={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function ta(e,t,r){return{applyToStack:function(n){n.add(function(t,n){return function(n){return(0,tr.__awaiter)(void 0,void 0,void 0,function(){var i,o;return(0,tr.__generator)(this,function(s){switch(s.label){case 0:return[4,t(n)];case 1:return[4,r(i=s.sent().response,e)];case 2:return o=s.sent(),[2,{response:i,output:o}]}})})}},to),n.add(function(r,n){return function(n){return(0,tr.__awaiter)(void 0,void 0,void 0,function(){var i;return(0,tr.__generator)(this,function(o){switch(o.label){case 0:return[4,t(n.input,e)];case 1:return i=o.sent(),[2,r((0,tr.__assign)((0,tr.__assign)({},n),{request:i}))]}})})}},ts)}}}var tu=function(){var e=[],t=[],r=new Set,n=function(n){var i=!1,o=function(e){return!e.name||e.name!==n||(i=!0,r.delete(n),!1)};return e=e.filter(o),t=t.filter(o),i},i=function(n){var i=!1,o=function(e){return e.middleware!==n||(i=!0,e.name&&r.delete(e.name),!1)};return e=e.filter(o),t=t.filter(o),i},o=function(r){return e.forEach(function(e){r.add(e.middleware,(0,tr.__assign)({},e))}),t.forEach(function(e){r.addRelativeTo(e.middleware,(0,tr.__assign)({},e))}),r},s=function(e){var t=[];return e.before.forEach(function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,tr.__spread)(s(e)))}),t.push(e),e.after.reverse().forEach(function(e){0===e.before.length&&0===e.after.length?t.push(e):t.push.apply(t,(0,tr.__spread)(s(e)))}),t},a=function(){var r=[],n=[],i={};return e.forEach(function(e){var t=(0,tr.__assign)((0,tr.__assign)({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)}),t.forEach(function(e){var t=(0,tr.__assign)((0,tr.__assign)({},e),{before:[],after:[]});t.name&&(i[t.name]=t),n.push(t)}),n.forEach(function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),r.sort(function(e,t){return tc[t.step]-tc[e.step]||tf[t.priority||"normal"]-tf[e.priority||"normal"]}).map(s).reduce(function(e,t){return e.push.apply(e,(0,tr.__spread)(t)),e},[]).map(function(e){return e.middleware})},u={add:function(t,n){void 0===n&&(n={});var i=n.name,o=n.override,s=(0,tr.__assign)({step:"initialize",priority:"normal",middleware:t},n);if(i){if(r.has(i)){if(!o)throw Error("Duplicate middleware name '"+i+"'");var a=e.findIndex(function(e){return e.name===i}),u=e[a];if(u.step!==s.step||u.priority!==s.priority)throw Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be "+("overridden by same-name middleware with "+s.priority+" priority in ")+s.step+" step.");e.splice(a,1)}r.add(i)}e.push(s)},addRelativeTo:function(e,n){var i=n.name,o=n.override,s=(0,tr.__assign)({middleware:e},n);if(i){if(r.has(i)){if(!o)throw Error("Duplicate middleware name '"+i+"'");var a=t.findIndex(function(e){return e.name===i}),u=t[a];if(u.toMiddleware!==s.toMiddleware||u.relation!==s.relation)throw Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden '+("by same-name middleware "+s.relation+' "')+s.toMiddleware+'" middleware.');t.splice(a,1)}r.add(i)}t.push(s)},clone:function(){return o(tu())},use:function(e){e.applyToStack(u)},remove:function(e){return"string"==typeof e?n(e):i(e)},removeByTag:function(n){var i=!1,o=function(e){var t=e.tags,o=e.name;return!(t&&t.includes(n))||(o&&r.delete(o),i=!0,!1)};return e=e.filter(o),t=t.filter(o),i},concat:function(e){var t=o(tu());return t.use(e),t},applyToStack:o,resolve:function(e,t){var r,n;try{for(var i=(0,tr.__values)(a().reverse()),o=i.next();!o.done;o=i.next())e=(0,o.value)(e,t)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return e}};return u},tc={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},tf={high:3,normal:2,low:1},tl=function(){function e(e){this.middlewareStack=tu(),this.config=e}return e.prototype.send=function(e,t,r){var n="function"==typeof t?t:r,i=e.resolveMiddleware(this.middlewareStack,this.config,"function"!=typeof t?t:void 0);if(!n)return i(e).then(function(e){return e.output});i(e).then(function(e){return n(null,e.output)},function(e){return n(e)}).catch(function(){})},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),th=function(){this.middlewareStack=tu()},td=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,(0,tr.__spread)([null],arguments)),r=new t;return Object.setPrototypeOf(r,e.prototype),r};td.prototype=Object.create(String.prototype,{constructor:{value:td,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(td,String),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,tr.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"==typeof e?e:JSON.stringify(e))}}(td);var tp=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return(0,tn.C6)(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(ta(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:T.filterSensitiveLog,outputFilterSensitiveLog:O.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return(0,ti.uq)(e,t)},t.prototype.deserialize=function(e,t){return(0,ti.j8)(e,t)},t}(th),tg=function(e){function t(t,r){void 0===r&&(r=!0);var n=e.call(this,t)||this;return n.tryNextLink=r,n}return(0,tr.__extends)(t,e),t}(Error);function tv(e){return Promise.all(Object.keys(e).reduce(function(t,r){var n=e[r];return"string"==typeof n?t.push([r,n]):t.push(n().then(function(e){return[r,e]})),t},[])).then(function(e){return e.reduce(function(e,t){var r=(0,tr.__read)(t,2),n=r[0],i=r[1];return e[n]=i,e},{})})}function ty(e){var t=this;return function(){return(0,tr.__awaiter)(t,void 0,void 0,function(){var t,r,n,i,o,s,a,u,c,f,l,h,d;return(0,tr.__generator)(this,function(p){switch(p.label){case 0:if(f=(c=e.client).send,l=tp.bind,d={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},!e.logins)return[3,2];return[4,tv(e.logins)];case 1:return h=p.sent(),[3,3];case 2:h=void 0,p.label=3;case 3:return[4,f.apply(c,[new(l.apply(tp,[void 0,(d.Logins=h,d)]))])];case 4:return i=void 0===(n=(r=void 0===(t=p.sent().Credentials)?function(){throw new tg("Response from Amazon Cognito contained no credentials")}():t).AccessKeyId)?function(){throw new tg("Response from Amazon Cognito contained no access key ID")}():n,o=r.Expiration,a=void 0===(s=r.SecretKey)?function(){throw new tg("Response from Amazon Cognito contained no secret key")}():s,u=r.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:a,sessionToken:u,expiration:o}]}})})}}for(var tm=function(e){function t(t){var r=e.call(this)||this;return r.input=t,r}return(0,tn.C6)(t,e),t.prototype.resolveMiddleware=function(e,t,r){this.middlewareStack.use(ta(t,this.serialize,this.deserialize));var n=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:x.filterSensitiveLog,outputFilterSensitiveLog:R.filterSensitiveLog},o=t.requestHandler;return n.resolve(function(e){return o.handle(e.request,r||{})},i)},t.prototype.serialize=function(e,t){return(0,ti._1)(e,t)},t.prototype.deserialize=function(e,t){return(0,ti.Ro)(e,t)},t}(th),tb="IdentityIds",tw=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",function(t){var r=t.get(e);return new Promise(function(e){r.onerror=function(){return e(null)},r.onsuccess=function(){return e(r.result?r.result.value:null)}})}).catch(function(){return null})},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",function(t){var r=t.delete(e);return new Promise(function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}})})},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",function(r){var n=r.put({id:e,value:t});return new Promise(function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}})})},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise(function(t,r){e.onsuccess=function(){t(e.result)},e.onerror=function(){r(e.error)},e.onblocked=function(){r(Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){r(Error("Failed to create object store"))},t.createObjectStore(tb,{keyPath:"id"})}})},e.prototype.withObjectStore=function(e,t){return this.getDb().then(function(r){var n=r.transaction(tb,e);return n.oncomplete=function(){return r.close()},new Promise(function(e,r){n.onerror=function(){return r(n.error)},e(t(n.objectStore(tb)))}).catch(function(e){throw r.close(),e})})},e}(),t_=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}()),tS=r(8166),tA=r(4630),tC=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,tE)},tE=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()},tI=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var r,n=(void 0===t?{}:t).abortSignal,i=this.requestTimeout;if(null==n?void 0:n.aborted){var o=Error("Request aborted");return o.name="AbortError",Promise.reject(o)}var s=e.path;if(e.query){var a=function(e){var t,r,n=[];try{for(var i=(0,tr.__values)(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var s=o.value,a=e[s];if(s=tC(s),Array.isArray(a))for(var u=0,c=a.length;u<c;u++)n.push(s+"="+tC(a[u]));else{var f=s;(a||"string"==typeof a)&&(f+="="+tC(a)),n.push(f)}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n.join("&")}(e.query);a&&(s+="?"+a)}var u=e.port,c=e.method,f=e.protocol+"//"+e.hostname+(u?":"+u:"")+s,l={body:"GET"===c||"HEAD"===c?void 0:e.body,headers:new Headers(e.headers),method:c};"undefined"!=typeof AbortController&&(l.signal=n);var h=[fetch(new Request(f,l)).then(function(e){var t,r,n=e.headers,i={};try{for(var o=(0,tr.__values)(n.entries()),s=o.next();!s.done;s=o.next()){var a=s.value;i[a[0]]=a[1]}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}return void 0===e.body?e.blob().then(function(t){return{response:new tA.cS({headers:i,statusCode:e.status,body:t})}}):{response:new tA.cS({headers:i,statusCode:e.status,body:e.body})}}),(void 0===(r=i)&&(r=0),new Promise(function(e,t){r&&setTimeout(function(){var e=Error("Request did not complete within "+r+" ms");e.name="TimeoutError",t(e)},r)}))];return n&&h.push(new Promise(function(e,t){n.onabort=function(){var e=Error("Request aborted");e.name="AbortError",t(e)}})),Promise.race(h)},e}(),tP={},tU=Array(64),tT=0,tk=65,tO=90;tT+tk<=tO;tT++){var tM=String.fromCharCode(tT+tk);tP[tM]=tT,tU[tT]=tM}for(var tT=0,tk=97,tO=122;tT+tk<=tO;tT++){var tM=String.fromCharCode(tT+tk),tx=tT+26;tP[tM]=tx,tU[tx]=tM}for(var tT=0;tT<10;tT++){tP[tT.toString(10)]=tT+52;var tM=tT.toString(10),tx=tT+52;tP[tM]=tx,tU[tx]=tM}function tR(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var r=new ArrayBuffer(t),n=new DataView(r),i=0;i<e.length;i+=4){for(var o=0,s=0,a=i,u=i+3;a<=u;a++)"="!==e[a]?(o|=tP[e[a]]<<(u-a)*6,s+=6):o>>=6;var c=i/4*3;o>>=s%8;for(var f=Math.floor(s/8),l=0;l<f;l++){var h=(f-l-1)*8;n.setUint8(c+l,(o&255<<h)>>h)}}return new Uint8Array(r)}tP["+"]=62,tU[62]="+",tP["/"]=63,tU[63]="/";for(var tD={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},tF=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],tN=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],tL=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],tj=[500,502,503,504],tB=function(e){var t,r;return(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)===429||tN.includes(e.name)||(null===(r=e.$retryable)||void 0===r?void 0:r.throttling)==!0},tH=function(e){var t;return tL.includes(e.name)||tj.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)},tq=r(8867),tK=function(e){var t=e,r=function(e){return"TimeoutError"===e.name?10:5},n=function(e){return r(e)<=t};return Object.freeze({hasRetryTokens:n,retrieveRetryTokens:function(e){if(!n(e))throw Error("No retry token available");var i=r(e);return t-=i,i},releaseRetryTokens:function(r){t+=null!=r?r:1,t=Math.min(t,e)}})},tV=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},tz=function(e){return!!e&&(void 0!==e.$retryable||tF.includes(e.name)||tB(e)||tH(e))},tW=function(){function e(e,t){var r,n,i;this.maxAttemptsProvider=e,this.mode="standard",this.retryDecider=null!==(r=null==t?void 0:t.retryDecider)&&void 0!==r?r:tz,this.delayDecider=null!==(n=null==t?void 0:t.delayDecider)&&void 0!==n?n:tV,this.retryQuota=null!==(i=null==t?void 0:t.retryQuota)&&void 0!==i?i:tK(500)}return e.prototype.shouldRetry=function(e,t,r){return t<r&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,tr.__awaiter)(this,void 0,void 0,function(){var e;return(0,tr.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}})})},e.prototype.retry=function(e,t){return(0,tr.__awaiter)(this,void 0,void 0,function(){var r,n,i,o,s,a,u,c;return(0,tr.__generator)(this,function(f){switch(f.label){case 0:return n=0,i=0,[4,this.getMaxAttempts()];case 1:o=f.sent(),s=t.request,tA.Kd.isInstance(s)&&(s.headers["amz-sdk-invocation-id"]=(0,tq.v4)()),a=function(){var a,c,f,l,h;return(0,tr.__generator)(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,5]),tA.Kd.isInstance(s)&&(s.headers["amz-sdk-request"]="attempt="+(n+1)+"; max="+o),[4,e(t)];case 1:return c=(a=d.sent()).response,f=a.output,u.retryQuota.releaseRetryTokens(r),f.$metadata.attempts=n+1,f.$metadata.totalRetryDelay=i,[2,{value:{response:c,output:f}}];case 2:if(l=d.sent(),n++,!u.shouldRetry(l,n,o))return[3,4];return r=u.retryQuota.retrieveRetryTokens(l),h=u.delayDecider(tB(l)?500:100,n),i+=h,[4,new Promise(function(e){return setTimeout(e,h)})];case 3:return d.sent(),[2,"continue"];case 4:throw l.$metadata||(l.$metadata={}),l.$metadata.attempts=n,l.$metadata.totalRetryDelay=i,l;case 5:return[2]}})},u=this,f.label=2;case 2:return[5,a()];case 3:if("object"==typeof(c=f.sent()))return[2,c.value];return[3,2];case 4:return[2]}})})},e}(),tG=function(e){var t=tY(e.maxAttempts);return(0,tr.__assign)((0,tr.__assign)({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new tW(t)})},tY=function(e){if(void 0===e&&(e=3),"number"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},tJ=r(4323),tZ=r.n(tJ),tQ=r(2763),tX="cognito-identity.{region}.amazonaws.com",t$=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),t0=new Set(["cn-north-1","cn-northwest-1"]),t1=new Set(["us-iso-east-1"]),t2=new Set(["us-isob-east-1"]),t3=new Set(["us-gov-east-1","us-gov-west-1"]),t6={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var r=void 0;switch(e){case"ap-northeast-1":r={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":r={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":r={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":r={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":r={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":r={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":r={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":r={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":r={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":r={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":r={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":r={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":r={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":r={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":r={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":r={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":r={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":r={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":r={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":r={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":r={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":r={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:t$.has(e)&&(r={hostname:tX.replace("{region}",e),partition:"aws"}),t0.has(e)&&(r={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),t1.has(e)&&(r={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),t2.has(e)&&(r={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),t3.has(e)&&(r={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===r&&(r={hostname:tX.replace("{region}",e),partition:"aws"})}return Promise.resolve((0,tn.Cl)({signingService:"cognito-identity"},r))},serviceId:"Cognito Identity",urlParser:function(e){var t,r=new URL(e),n=r.hostname,i=r.pathname,o=r.port,s=r.protocol,a=r.search;return a&&(t=function(e){var t,r,n={};if(e=e.replace(/^\?/,""))try{for(var i=(0,tr.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value,a=(0,tr.__read)(s.split("="),2),u=a[0],c=a[1],f=void 0===c?null:c;u=decodeURIComponent(u),f&&(f=decodeURIComponent(f)),u in n?Array.isArray(n[u])?n[u].push(f):n[u]=[n[u],f]:n[u]=f}}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n}(a)),{hostname:n,port:o?parseInt(o):void 0,protocol:s,path:i,query:t}}},t4=(0,tn.Cl)((0,tn.Cl)({},t6),{runtime:"browser",base64Decoder:tR,base64Encoder:function(e){for(var t="",r=0;r<e.length;r+=3){for(var n=0,i=0,o=r,s=Math.min(r+3,e.length);o<s;o++)n|=e[o]<<(s-o-1)*8,i+=8;var a=Math.ceil(i/6);n<<=6*a-i;for(var u=1;u<=a;u++){var c=(a-u)*6;t+=tU[(n&63<<c)>>c]}t+="==".slice(0,4-a)}return t},bodyLengthChecker:function(e){if("string"==typeof e){for(var t=e.length,r=t-1;r>=0;r--){var n=e.charCodeAt(r);n>127&&n<=2047?t++:n>2047&&n<=65535&&(t+=2)}return t}return"number"==typeof e.byteLength?e.byteLength:"number"==typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,r=e.clientVersion;return function(){return(0,tr.__awaiter)(void 0,void 0,void 0,function(){var e,n,i,o,s,a,u,c,f;return(0,tr.__generator)(this,function(l){return n=[["aws-sdk-js",r],["os/"+((null===(o=null==(e=(null===(i=null==window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?tZ().parse(window.navigator.userAgent):void 0)?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(s=null==e?void 0:e.os)||void 0===s?void 0:s.version],["lang/js"],["md/browser",(null!==(u=null===(a=null==e?void 0:e.browser)||void 0===a?void 0:a.name)&&void 0!==u?u:"unknown")+"_"+(null!==(f=null===(c=null==e?void 0:e.browser)||void 0===c?void 0:c.version)&&void 0!==f?f:"unknown")]],t&&n.push(["api/"+t,r]),[2,n]})})}}({serviceId:t6.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:function(){return Promise.reject("Region is missing")},requestHandler:new tI,sha256:tS.Sha256,streamCollector:function(e){return"function"==typeof Blob&&e instanceof Blob?function(e){return(0,tr.__awaiter)(this,void 0,void 0,function(){return(0,tr.__generator)(this,function(t){switch(t.label){case 0:var r;return[4,(r=e,new Promise(function(e,t){var n=new FileReader;n.onloadend=function(){if(2!==n.readyState)return t(Error("Reader aborted too early"));var r,i=null!==(r=n.result)&&void 0!==r?r:"",o=i.indexOf(","),s=o>-1?o+1:i.length;e(i.substring(s))},n.onabort=function(){return t(Error("Read aborted"))},n.onerror=function(){return t(n.error)},n.readAsDataURL(r)}))];case 1:return[2,new Uint8Array(tR(t.sent()))]}})})}(e):function(e){return(0,tr.__awaiter)(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return(0,tr.__generator)(this,function(u){switch(u.label){case 0:t=new Uint8Array(0),r=e.getReader(),n=!1,u.label=1;case 1:if(n)return[3,3];return[4,r.read()];case 2:return o=(i=u.sent()).done,(s=i.value)&&((t=new Uint8Array((a=t).length+s.length)).set(a),t.set(s,a.length)),n=o,[3,1];case 3:return[2,t]}})})}(e)},utf8Decoder:tQ.fromUtf8,utf8Encoder:tQ.toUtf8}),t5=function(e){var t;return(0,tr.__assign)((0,tr.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?t8(e):function(){return t7(e)},isCustomEndpoint:!!e.endpoint})},t8=function(e){var t=e.endpoint,r=e.urlParser;if("string"==typeof t){var n=Promise.resolve(r(t));return function(){return n}}if("object"==typeof t){var i=Promise.resolve(t);return function(){return i}}return t},t7=function(e){return(0,tr.__awaiter)(void 0,void 0,void 0,function(){var t,r,n,i,o;return(0,tr.__generator)(this,function(s){switch(s.label){case 0:return r=void 0===(t=e.tls)||t,[4,e.region()];case 1:if(n=s.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(n))throw Error("Invalid region in client config");return[4,e.regionInfoProvider(n)];case 2:if(!(i=(null!==(o=s.sent())&&void 0!==o?o:{}).hostname))throw Error("Cannot resolve hostname from client config");return[2,e.urlParser((r?"https:":"http:")+"//"+i)]}})})},t9=function(e){if(!e.region)throw Error("Region is missing");return(0,tr.__assign)((0,tr.__assign)({},e),{region:re(e.region)})},re=function(e){if("string"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e},rt="content-length",rr={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},rn={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},ri={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ro={},rs={},ra=0;ra<256;ra++){var ru=ra.toString(16).toLowerCase();1===ru.length&&(ru="0"+ru),ro[ra]=ru,rs[ru]=ra}function rc(e){for(var t="",r=0;r<e.byteLength;r++)t+=ro[e[r]];return t}var rf="X-Amz-Date",rl="X-Amz-Signature",rh="X-Amz-Security-Token",rd="authorization",rp=rf.toLowerCase(),rg=[rd,rp,"date"],rv=rl.toLowerCase(),ry="x-amz-content-sha256",rm=rh.toLowerCase(),rb={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},rw=/^proxy-/,r_=/^sec-/,rS="AWS4-HMAC-SHA256",rA="aws4_request",rC={},rE=[];function rI(e,t,r){return e+"/"+t+"/"+r+"/"+rA}function rP(e,t,r){var n=new e(t);return n.update(r),n.digest()}function rU(e,t,r){var n,i,o=e.headers,s={};try{for(var a=(0,tr.__values)(Object.keys(o).sort()),u=a.next();!u.done;u=a.next()){var c=u.value,f=c.toLowerCase();(!(f in rb||(null==t?void 0:t.has(f))||rw.test(f)||r_.test(f))||r&&(!r||r.has(f)))&&(s[f]=o[c].trim().replace(/\s+/g," "))}}catch(e){n={error:e}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return s}function rT(e,t){var r=e.headers,n=e.body;return(0,tr.__awaiter)(this,void 0,void 0,function(){var e,i,o,s,a,u,c;return(0,tr.__generator)(this,function(f){switch(f.label){case 0:try{for(i=(e=(0,tr.__values)(Object.keys(r))).next();!i.done;i=e.next())if((o=i.value).toLowerCase()===ry)return[2,r[o]]}catch(e){u={error:e}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(u)throw u.error}}if(void 0!=n)return[3,1];return[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:if(!("string"==typeof n||ArrayBuffer.isView(n)||"function"==typeof ArrayBuffer&&n instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(n)))return[3,3];return(s=new t).update(n),a=rc,[4,s.digest()];case 2:return[2,a.apply(void 0,[f.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}})})}function rk(e){var t,r=e.headers,n=e.query,i=(0,tr.__rest)(e,["headers","query"]);return(0,tr.__assign)((0,tr.__assign)({},i),{headers:(0,tr.__assign)({},r),query:n?Object.keys(t=n).reduce(function(e,r){var n,i=t[r];return(0,tr.__assign)((0,tr.__assign)({},e),((n={})[r]=Array.isArray(i)?(0,tr.__spread)(i):i,n))},{}):void 0})}function rO(e){var t,r;e="function"==typeof e.clone?e.clone():rk(e);try{for(var n=(0,tr.__values)(Object.keys(e.headers)),i=n.next();!i.done;i=n.next()){var o=i.value;rg.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(e){t={error:e}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}return e}var rM=function(){function e(e){var t=e.applyChecksum,r=e.credentials,n=e.region,i=e.service,o=e.sha256,s=e.uriEscapePath;this.service=i,this.sha256=o,this.uriEscapePath=void 0===s||s,this.applyChecksum="boolean"!=typeof t||t,this.regionProvider=rD(n),this.credentialProvider=rF(r)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,tr.__awaiter)(this,void 0,void 0,function(){var r,n,i,o,s,a,u,c,f,l,h,d,p,g,v,y,m,b,w,_,S,A,C,E;return(0,tr.__generator)(this,function(I){switch(I.label){case 0:return n=void 0===(r=t.signingDate)?new Date:r,o=void 0===(i=t.expiresIn)?3600:i,s=t.unsignableHeaders,a=t.unhoistableHeaders,u=t.signableHeaders,c=t.signingRegion,f=t.signingService,[4,this.credentialProvider()];case 1:if(l=I.sent(),null==c)return[3,2];return d=c,[3,4];case 2:return[4,this.regionProvider()];case 3:d=I.sent(),I.label=4;case 4:if(h=d,g=(p=rx(n)).longDate,v=p.shortDate,o>604800)return[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")];return y=rI(v,h,null!=f?f:this.service),m=function(e,t){void 0===t&&(t={});var r,n,i,o="function"==typeof e.clone?e.clone():rk(e),s=o.headers,a=o.query,u=void 0===a?{}:a;try{for(var c=(0,tr.__values)(Object.keys(s)),f=c.next();!f.done;f=c.next()){var l=f.value,h=l.toLowerCase();"x-amz-"!==h.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(h))||(u[l]=s[l],delete s[l])}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return(0,tr.__assign)((0,tr.__assign)({},e),{headers:s,query:u})}(rO(e),{unhoistableHeaders:a}),l.sessionToken&&(m.query[rh]=l.sessionToken),m.query["X-Amz-Algorithm"]=rS,m.query["X-Amz-Credential"]=l.accessKeyId+"/"+y,m.query[rf]=g,m.query["X-Amz-Expires"]=o.toString(10),b=rU(m,s,u),m.query["X-Amz-SignedHeaders"]=rR(b),w=m.query,_=rl,S=this.getSignature,A=[g,y,this.getSigningKey(l,h,v,f)],C=this.createCanonicalRequest,E=[m,b],[4,rT(e,this.sha256)];case 5:return[4,S.apply(this,A.concat([C.apply(this,E.concat([I.sent()]))]))];case 6:return w[_]=I.sent(),[2,m]}})})},e.prototype.sign=function(e,t){return(0,tr.__awaiter)(this,void 0,void 0,function(){return(0,tr.__generator)(this,function(r){return"string"==typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]})})},e.prototype.signEvent=function(e,t){var r=e.headers,n=e.payload,i=t.signingDate,o=void 0===i?new Date:i,s=t.priorSignature,a=t.signingRegion,u=t.signingService;return(0,tr.__awaiter)(this,void 0,void 0,function(){var e,t,i,c,f,l,h,d,p,g,v;return(0,tr.__generator)(this,function(y){switch(y.label){case 0:if(null==a)return[3,1];return t=a,[3,3];case 1:return[4,this.regionProvider()];case 2:t=y.sent(),y.label=3;case 3:return e=t,c=(i=rx(o)).shortDate,f=i.longDate,l=rI(c,e,null!=u?u:this.service),[4,rT({headers:{},body:n},this.sha256)];case 4:return h=y.sent(),(d=new this.sha256).update(r),g=rc,[4,d.digest()];case 5:return p=g.apply(void 0,[y.sent()]),v=["AWS4-HMAC-SHA256-PAYLOAD",f,l,s,p,h].join("\n"),[2,this.signString(v,{signingDate:o,signingRegion:e,signingService:u})]}})})},e.prototype.signString=function(e,t){var r=void 0===t?{}:t,n=r.signingDate,i=void 0===n?new Date:n,o=r.signingRegion,s=r.signingService;return(0,tr.__awaiter)(this,void 0,void 0,function(){var t,r,n,a,u,c,f,l;return(0,tr.__generator)(this,function(h){switch(h.label){case 0:return[4,this.credentialProvider()];case 1:if(t=h.sent(),null==o)return[3,2];return n=o,[3,4];case 2:return[4,this.regionProvider()];case 3:n=h.sent(),h.label=4;case 4:return r=n,a=rx(i).shortDate,f=(c=this.sha256).bind,[4,this.getSigningKey(t,r,a,s)];case 5:return(u=new(f.apply(c,[void 0,h.sent()]))).update(e),l=rc,[4,u.digest()];case 6:return[2,l.apply(void 0,[h.sent()])]}})})},e.prototype.signRequest=function(e,t){var r=void 0===t?{}:t,n=r.signingDate,i=void 0===n?new Date:n,o=r.signableHeaders,s=r.unsignableHeaders,a=r.signingRegion,u=r.signingService;return(0,tr.__awaiter)(this,void 0,void 0,function(){var t,r,n,c,f,l,h,d,p,g,v;return(0,tr.__generator)(this,function(y){switch(y.label){case 0:return[4,this.credentialProvider()];case 1:if(t=y.sent(),null==a)return[3,2];return n=a,[3,4];case 2:return[4,this.regionProvider()];case 3:n=y.sent(),y.label=4;case 4:return r=n,c=rO(e),l=(f=rx(i)).longDate,d=rI(h=f.shortDate,r,null!=u?u:this.service),c.headers[rp]=l,t.sessionToken&&(c.headers[rm]=t.sessionToken),[4,rT(c,this.sha256)];case 5:return p=y.sent(),!function(e,t){var r,n;e=e.toLowerCase();try{for(var i=(0,tr.__values)(Object.keys(t)),o=i.next();!o.done;o=i.next()){var s=o.value;if(e===s.toLowerCase())return!0}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return!1}(ry,c.headers)&&this.applyChecksum&&(c.headers[ry]=p),g=rU(c,s,o),[4,this.getSignature(l,d,this.getSigningKey(t,r,h,u),this.createCanonicalRequest(c,g,p))];case 6:return v=y.sent(),c.headers[rd]=rS+" "+("Credential="+t.accessKeyId+"/")+d+", SignedHeaders="+rR(g)+", Signature="+v,[2,c]}})})},e.prototype.createCanonicalRequest=function(e,t,r){var n=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,r,n=e.query,i=void 0===n?{}:n,o=[],s={},a=function(e){if(e.toLowerCase()===rv)return"continue";o.push(e);var t=i[e];"string"==typeof t?s[e]=tC(e)+"="+tC(t):Array.isArray(t)&&(s[e]=t.slice(0).sort().reduce(function(t,r){return t.concat([tC(e)+"="+tC(r)])},[]).join("&"))};try{for(var u=(0,tr.__values)(Object.keys(i).sort()),c=u.next();!c.done;c=u.next()){var f=c.value;a(f)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(t)throw t.error}}return o.map(function(e){return s[e]}).filter(function(e){return e}).join("&")}(e)+"\n"+n.map(function(e){return e+":"+t[e]}).join("\n")+"\n\n"+n.join(";")+"\n"+r},e.prototype.createStringToSign=function(e,t,r){return(0,tr.__awaiter)(this,void 0,void 0,function(){var n;return(0,tr.__generator)(this,function(i){switch(i.label){case 0:return(n=new this.sha256).update(r),[4,n.digest()];case 1:return[2,rS+"\n"+e+"\n"+t+"\n"+rc(i.sent())]}})})},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,r,n){return(0,tr.__awaiter)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,tr.__generator)(this,function(c){switch(c.label){case 0:return[4,this.createStringToSign(e,t,n)];case 1:return i=c.sent(),a=(s=this.sha256).bind,[4,r];case 2:return(o=new(a.apply(s,[void 0,c.sent()]))).update(i),u=rc,[4,o.digest()];case 3:return[2,u.apply(void 0,[c.sent()])]}})})},e.prototype.getSigningKey=function(e,t,r,n){var i,o;return i=this.sha256,o=n||this.service,(0,tr.__awaiter)(void 0,void 0,void 0,function(){var n,s,a,u,c,f,l;return(0,tr.__generator)(this,function(h){switch(h.label){case 0:return[4,rP(i,e.secretAccessKey,e.accessKeyId)];case 1:if((n=r+":"+t+":"+o+":"+rc(h.sent())+":"+e.sessionToken)in rC)return[2,rC[n]];for(rE.push(n);rE.length>50;)delete rC[rE.shift()];s="AWS4"+e.secretAccessKey,h.label=2;case 2:h.trys.push([2,7,8,9]),u=(a=(0,tr.__values)([r,t,o,rA])).next(),h.label=3;case 3:if(u.done)return[3,6];return c=u.value,[4,rP(i,s,c)];case 4:s=h.sent(),h.label=5;case 5:return u=a.next(),[3,3];case 6:return[3,9];case 7:return f={error:h.sent()},[3,9];case 8:try{u&&!u.done&&(l=a.return)&&l.call(a)}finally{if(f)throw f.error}return[7];case 9:return[2,rC[n]=s]}})})},e}(),rx=function(e){var t,r=("number"==typeof(t=e)?new Date(1e3*t):"string"==typeof t?new Date(Number(t)?1e3*Number(t):t):t).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/[\-:]/g,"");return{longDate:r,shortDate:r.substr(0,8)}},rR=function(e){return Object.keys(e).sort().join(";")},rD=function(e){if("string"!=typeof e)return e;var t=Promise.resolve(e);return function(){return t}},rF=function(e){if("object"!=typeof e)return e;var t=Promise.resolve(e);return function(){return t}};function rN(e){if("object"==typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var rL="user-agent",rj=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,rB=function(e){var t=(0,tr.__read)(e,2),r=t[0],n=t[1],i=r.indexOf("/"),o=r.substring(0,i),s=r.substring(i+1);return"api"===o&&(s=s.toLowerCase()),[o,s,n].filter(function(e){return e&&e.length>0}).map(function(e){return null==e?void 0:e.replace(rj,"_")}).join("/")},rH={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},rq=function(e){function t(t){var r,n,i,o,s,a=this,u=tG(function(e){var t,r=this,n=rN(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,s=e.systemClockOffset,a=void 0===s?e.systemClockOffset||0:s,u=e.sha256;return t=e.signer?rN(e.signer):function(){return rN(e.region)().then(function(t){return(0,tr.__awaiter)(r,void 0,void 0,function(){return(0,tr.__generator)(this,function(r){switch(r.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[r.sent()||{},t]]}})})}).then(function(t){var r=(0,tr.__read)(t,2),i=r[0],s=r[1],a=i.signingRegion,c=i.signingService;return e.signingRegion=e.signingRegion||a||s,e.signingName=e.signingName||c||e.serviceId,new rM({credentials:n,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})})},(0,tr.__assign)((0,tr.__assign)({},e),{systemClockOffset:a,signingEscapePath:o,credentials:n,signer:t})}(t5(t9((0,tn.Cl)((0,tn.Cl)({},t4),t))))),c=(0,tr.__assign)((0,tr.__assign)({},u),{customUserAgent:"string"==typeof u.customUserAgent?[[u.customUserAgent]]:u.customUserAgent});return(a=e.call(this,c)||this).config=c,a.middlewareStack.use((r=a.config,{applyToStack:function(e){e.add(function(e,t){return function(n){return(0,tr.__awaiter)(void 0,void 0,void 0,function(){var i;return(0,tr.__generator)(this,function(o){return(null===(i=null==r?void 0:r.retryStrategy)||void 0===i?void 0:i.mode)&&(t.userAgent=(0,tr.__spread)(t.userAgent||[],[["cfg/retry-mode",r.retryStrategy.mode]])),[2,r.retryStrategy.retry(e,n)]})})}},tD)}})),a.middlewareStack.use((n=a.config,{applyToStack:function(e){e.add(function(e){var t=this;return function(r){return function(n){return(0,tr.__awaiter)(t,void 0,void 0,function(){var t,i,o,s,a;return(0,tr.__generator)(this,function(u){return t=n.request,tA.Kd.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map(function(e){return e.toLowerCase()}).indexOf(rt)&&void 0!==(s=e(i))&&(t.headers=(0,tr.__assign)((0,tr.__assign)({},t.headers),((a={})[rt]=String(s),a)))),[2,r((0,tr.__assign)((0,tr.__assign)({},n),{request:t}))]})})}}}(n.bodyLengthChecker),rr)}})),a.middlewareStack.use((i=a.config,{applyToStack:function(e){e.add(function(e){return function(t){return(0,tr.__awaiter)(void 0,void 0,void 0,function(){var r,n;return(0,tr.__generator)(this,function(o){return tA.Kd.isInstance(t.request)&&(r=t.request,(void 0===(n=(i.requestHandler.metadata||{}).handlerProtocol)?"":n).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname)),[2,e(t)]})})}},rn)}})),a.middlewareStack.use((a.config,{applyToStack:function(e){e.add(function(e,t){return function(r){return(0,tr.__awaiter)(void 0,void 0,void 0,function(){var n,i,o,s,a,u,c,f,l;return(0,tr.__generator)(this,function(h){switch(h.label){case 0:return n=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,s=t.logger,a=t.outputFilterSensitiveLog,[4,e(r)];case 1:if(u=h.sent(),!s)return[2,u];return"function"==typeof s.info&&(f=(c=u.output).$metadata,l=(0,tr.__rest)(c,["$metadata"]),s.info({clientName:n,commandName:i,input:o(r.input),output:a(l),metadata:f})),[2,u]}})})}},ri)}})),a.middlewareStack.use((s=a.config,{applyToStack:function(e){e.add(function(e,t){return function(r){return(0,tr.__awaiter)(void 0,void 0,void 0,function(){var n,i,o,a,u,c,f,l;return(0,tr.__generator)(this,function(h){switch(h.label){case 0:if(n=r.request,!tA.Kd.isInstance(n))return[2,e(r)];return i=n.headers,o=(null===(f=null==t?void 0:t.userAgent)||void 0===f?void 0:f.map(rB))||[],[4,s.defaultUserAgentProvider()];case 1:return a=h.sent().map(rB),u=(null===(l=null==s?void 0:s.customUserAgent)||void 0===l?void 0:l.map(rB))||[],i["x-amz-user-agent"]=(0,tr.__spread)(a,o,u).join(" "),c=(0,tr.__spread)(a.filter(function(e){return e.startsWith("aws-sdk-")}),u).join(" "),"browser"!==s.runtime&&c&&(i[rL]=i[rL]?i[rL]+" "+c:c),[2,e((0,tr.__assign)((0,tr.__assign)({},r),{request:n}))]}})})}},rH)}})),a}return(0,tn.C6)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(tl),rK="aws-amplify/4.7.14",rV={userAgent:rK+" js",product:"",navigator:null,isReactNative:!1};"undefined"!=typeof navigator&&navigator.product&&((rV.product=navigator.product||"",rV.navigator=navigator||null,"ReactNative"===navigator.product)?(rV.userAgent=rK+" react-native",rV.isReactNative=!0):(rV.userAgent=rK+" js",rV.isReactNative=!1));var rz=function(){return(rz=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function rW(e){var t=new rq({region:e.region,customUserAgent:""+rV.userAgent});return t.middlewareStack.add(function(e,t){return function(t){var r;return e(rz(rz({},r=t),{request:rz(rz({},r.request),{headers:rz(rz({},r.request.headers),{"cache-control":"no-store"})})}))}},{step:"build",name:"cacheControlMiddleWare"}),t}var rG=function(){return(rG=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},rY=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},rJ=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},rZ=new e_("Credentials"),rQ=new(function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=e8.refreshGoogleToken,this._refreshHandlers.facebook=e7.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=rG(rG({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=new ek().getStorage()),this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return rZ.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return rZ.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?rZ.debug("getting old cred promise"):(rZ.debug("getting new cred promise"),this._gettingCredPromise=ej(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return rY(this,void 0,void 0,function(){var e,t,r,n,i,o;return rJ(this,function(s){switch(s.label){case 0:if(rZ.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return rZ.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(rZ.debug("need to get a new credential or refresh the existing one"),!(r=void 0===(t=this.Auth)?tt.Auth:t)||"function"!=typeof r.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(!(!this._isExpired(e)&&this._isPastTTL()))return[3,6];rZ.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,r.currentUserPoolUser()];case 2:return n=s.sent(),[4,r.currentSession()];case 3:return i=s.sent().refreshToken,[4,new Promise(function(e,t){n.refreshSession(i,function(r,n){return r?t(r):e(n)})})];case 4:return s.sent(),[3,6];case 5:return o=s.sent(),rZ.debug("Error attempting to refreshing the session",o),[3,6];case 6:return[2,r.currentUserCredentials()]}})})},e.prototype.refreshFederatedToken=function(e){rZ.debug("Getting federated credentials");var t=e.provider,r=e.user,n=e.token,i=e.identity_id,o=e.expires_at;return(o=1970===new Date(o).getFullYear()?1e3*o:o,rZ.debug("checking if federated jwt token expired"),o>new Date().getTime())?(rZ.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:n,user:r,identity_id:i,expires_at:o})):this._refreshHandlers[t]&&"function"==typeof this._refreshHandlers[t]?(rZ.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:this._refreshHandlers[t],provider:t,user:r})):(rZ.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,r=e.refreshHandler,n=e.provider,i=e.user;return eX(r,[],1e4).then(function(e){return rZ.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:n,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})}).catch(function(e){return("string"!=typeof e||0!==e.toLowerCase().lastIndexOf("network error",e.length))&&t.clear(),rZ.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)})},e.prototype._isExpired=function(e){if(!e)return rZ.debug("no credentials for expiration check"),!0;rZ.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return rY(this,void 0,void 0,function(){var e,t,r,n,i,o,s,a=this;return rJ(this,function(u){switch(u.label){case 0:if(rZ.debug("setting credentials for guest"),t=(e=this._config).identityPoolId,r=e.region,e.mandatorySignIn)return[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")];if(!t)return rZ.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")];if(!r)return rZ.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")];return i=this,[4,this._getGuestIdentityId()];case 1:return n=i._identityId=u.sent(),o=rW({region:r}),s=void 0,s=n?ty({identityId:n,client:o})():rY(a,void 0,void 0,function(){var e;return rJ(this,function(r){switch(r.label){case 0:return[4,o.send(new tm({IdentityPoolId:t}))];case 1:return e=r.sent().IdentityId,this._identityId=e,[2,ty({client:o,identityId:e})()]}})}).catch(function(e){return rY(a,void 0,void 0,function(){return rJ(this,function(t){throw e})})}),[2,this._loadCredentials(s,"guest",!1,null).then(function(e){return e}).catch(function(e){return rY(a,void 0,void 0,function(){var r=this;return rJ(this,function(i){switch(i.label){case 0:if("ResourceNotFoundException"!==e.name||e.message!=="Identity '"+n+"' not found.")return[3,2];return rZ.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()];case 1:return i.sent(),s=rY(r,void 0,void 0,function(){var e;return rJ(this,function(r){switch(r.label){case 0:return[4,o.send(new tm({IdentityPoolId:t}))];case 1:return e=r.sent().IdentityId,this._identityId=e,[2,ty({client:o,identityId:e})()]}})}).catch(function(e){return rY(r,void 0,void 0,function(){return rJ(this,function(t){throw e})})}),[2,this._loadCredentials(s,"guest",!1,null)];case 2:return[2,e]}})})})]}})})},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,r=e.token,n=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=r;var s=this._config,a=s.identityPoolId,u=s.region;if(!a)return rZ.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return rZ.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var c=rW({region:u}),f=void 0;if(n){var l={identityId:n,logins:o,client:c};f=ty(l)()}else{var l={logins:o,identityPoolId:a,client:c};f=(function(e){var t=this,r=e.accountId,n=e.cache,i=void 0===n?"object"==typeof self&&self.indexedDB?new tw:"object"==typeof window&&window.localStorage?window.localStorage:t_:n,o=e.client,s=e.customRoleArn,a=e.identityPoolId,u=e.logins,c=e.userIdentifier,f=void 0===c?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":c,l=f?"aws:cognito-identity-credentials:"+a+":"+f:void 0,h=function(){return(0,tr.__awaiter)(t,void 0,void 0,function(){var e,t,n,c,f,d,p,g;return(0,tr.__generator)(this,function(v){switch(v.label){case 0:if(!(t=l))return[3,2];return[4,i.getItem(l)];case 1:t=v.sent(),v.label=2;case 2:if(e=t)return[3,7];if(f=(c=o).send,d=tm.bind,g={AccountId:r,IdentityPoolId:a},!u)return[3,4];return[4,tv(u)];case 3:return p=v.sent(),[3,5];case 4:p=void 0,v.label=5;case 5:return[4,f.apply(c,[new(d.apply(tm,[void 0,(g.Logins=p,g)]))])];case 6:e=void 0===(n=v.sent().IdentityId)?function(){throw new tg("Response from Amazon Cognito contained no identity ID")}():n,l&&Promise.resolve(i.setItem(l,e)).catch(function(){}),v.label=7;case 7:return[2,(h=ty({client:o,customRoleArn:s,logins:u,identityId:e}))()]}})})};return function(){return h().catch(function(e){return(0,tr.__awaiter)(t,void 0,void 0,function(){return(0,tr.__generator)(this,function(t){throw l&&Promise.resolve(i.removeItem(l)).catch(function(){}),e})})})}})(l)()}return this._loadCredentials(f,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;rZ.debug("set credentials from session");var r=e.getIdToken().getJwtToken(),n=this._config,i=n.region,o=n.userPoolId,s=n.identityPoolId;if(!s)return rZ.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return rZ.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var a={};a["cognito-idp."+i+".amazonaws.com/"+o]=r;var u=rW({region:i}),c=rY(t,void 0,void 0,function(){var e,t,r,n,i,o,c,f,l;return rJ(this,function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:if(e=h.sent())return[3,3];return[4,u.send(new tm({IdentityPoolId:s,Logins:a}))];case 2:t=h.sent().IdentityId,h.label=3;case 3:return[4,u.send(new tp({IdentityId:e||t,Logins:a}))];case 4:if(i=(n=(r=h.sent()).Credentials).AccessKeyId,o=n.Expiration,c=n.SecretKey,f=n.SessionToken,l=r.IdentityId,this._identityId=l,!e)return[3,6];return rZ.debug("The guest identity "+e+" has been successfully linked to the logins"),e===l&&rZ.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:i,secretAccessKey:c,sessionToken:f,expiration:o,identityId:l}]}})}).catch(function(e){return rY(t,void 0,void 0,function(){return rJ(this,function(t){throw e})})});return this._loadCredentials(c,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,r,n){var i=this,o=this;return new Promise(function(s,a){e.then(function(e){return rY(i,void 0,void 0,function(){var i,a,u,c,f;return rJ(this,function(l){switch(l.label){case 0:if(rZ.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=r,o._credentials_source=t,o._nextCredentialsRefresh=new Date().getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},n.user),a=n.provider,u=n.token,c=n.expires_at,f=n.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:a,token:u,user:i,expires_at:c,identity_id:f}))}catch(e){rZ.debug("Failed to put federated info into auth storage",e)}}if("guest"!==t)return[3,2];return[4,this._setGuestIdentityId(e.identityId)];case 1:l.sent(),l.label=2;case 2:return s(o._credentials),[2]}})})}).catch(function(t){if(t){rZ.debug("Failed to load credentials",e),rZ.debug("Error loading credentials",t),a(t);return}})})},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(rZ.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return rY(this,void 0,void 0,function(){return rJ(this,function(e){return this._credentials=null,this._credentials_source=null,rZ.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]})})},e.prototype._getGuestIdentityId=function(){return rY(this,void 0,void 0,function(){var e,t;return rJ(this,function(r){switch(r.label){case 0:e=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=r.sent(),rZ.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}})})},e.prototype._setGuestIdentityId=function(e){return rY(this,void 0,void 0,function(){var t,r;return rJ(this,function(n){switch(n.label){case 0:t=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return r=n.sent(),rZ.debug("Failed to cache guest identityId",r),[3,4];case 4:return[2]}})})},e.prototype._removeGuestIdentityId=function(){return rY(this,void 0,void 0,function(){var e;return rJ(this,function(t){return e=this._config.identityPoolId,rZ.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]})})},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}())(null);tt.register(rQ);var rX=function(){return(rX=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r$=new e_("Parser"),r0=function(e){var t,r={};return e.aws_mobile_analytics_app_id&&(r.Analytics={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}}),(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(r.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in,signUpVerificationMethod:e.aws_cognito_sign_up_verification_method||"code"}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(r.Logging=rX(rX({},e.Logging),{region:e.aws_project_region})),e.geo&&(r.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(r.Geo={AmazonLocationService:e.geo.amazon_location_service})),r.Analytics=Object.assign({},r.Analytics,e.Analytics),r.Auth=Object.assign({},r.Auth,e.Auth),r.Storage=Object.assign({},t),r.Logging=Object.assign({},r.Logging,e.Logging),r$.debug("parse config",e,"to amplifyconfig",r),r},r1=function(){function e(){}return e.parseMobilehubConfig=r0,e}(),r2=r(7508);function r3(e,t){void 0===t&&(t={});var r,n,i=(r=e)&&"j"===r[0]&&":"===r[1]?r.substr(2):r;if(void 0===(n=t.doNotParse)&&(n=!i||"{"!==i[0]&&"["!==i[0]&&'"'!==i[0]),!n)try{return JSON.parse(i)}catch(e){}return e}var r6=function(){return(r6=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},r4=function(){function e(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies="string"==typeof e?r2.q(e,t):"object"==typeof e&&null!==e?e:{},new Promise(function(){r.HAS_DOCUMENT_COOKIE="object"==typeof document&&"string"==typeof document.cookie}).catch(function(){})}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=r2.q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),r3(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var n in this.cookies)r[n]=r3(this.cookies[n],e);return r},e.prototype.set=function(e,t,r){var n;"object"==typeof t&&(t=JSON.stringify(t)),this.cookies=r6(r6({},this.cookies),((n={})[e]=t,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=r2.l(e,t,r)),this._emitChange({name:e,value:t,options:r})},e.prototype.remove=function(e,t){var r=t=r6(r6({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=r6({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=r2.l(e,"",r)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),r5=eH().isBrowser,r8=function(){function e(e){void 0===e&&(e={}),this.cookies=new r4,this.store=r5?window.localStorage:Object.create(null),this.cookies=e.req?new r4(e.req.headers.cookie):new r4,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(Array(this.length)).map(function(t,r){return e.key(r)}).forEach(function(t){return e.removeItem(t)})},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":r5?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}(),r7=function(){function e(e){var t=e||{},r=t.ValidationData,n=t.Username,i=t.Password,o=t.AuthParameters,s=t.ClientMetadata;this.validationData=r||{},this.authParameters=o||{},this.clientMetadata=s||{},this.username=n,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),r9=r(5095),ne=r(4425),nt=r.n(ne);r(2566);var nr=r(6113),nn=r.n(nr),ni=r(1107),no=r.n(ni);if("undefined"!=typeof window&&window.crypto&&(eh=window.crypto),!eh&&"undefined"!=typeof window&&window.msCrypto&&(eh=window.msCrypto),!eh&&void 0!==r.g&&r.g.crypto&&(eh=r.g.crypto),!eh)try{eh=r(3811)}catch(e){}var ns=function(){function e(e,t){e=this.words=e||[],void 0!=t?this.sigBytes=t:this.sigBytes=4*e.length}var t=e.prototype;return t.random=function(t){for(var r=[],n=0;n<t;n+=4)r.push(function(){if(eh){if("function"==typeof eh.getRandomValues)try{return eh.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof eh.randomBytes)try{return eh.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")}());return new e(r,t)},t.toString=function(){return function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")}(this)},e}();function na(e,t){null!=e&&this.fromString(e,t)}function nu(){return new na(null)}var nc="undefined"!=typeof navigator;nc&&"Microsoft Internet Explorer"==navigator.appName?(na.prototype.am=function(e,t,r,n,i,o){for(var s=32767&t,a=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,f=a*u+c*s;i=((u=s*u+((32767&f)<<15)+r[n]+(0x3fffffff&i))>>>30)+(f>>>15)+a*c+(i>>>30),r[n++]=0x3fffffff&u}return i},ed=30):nc&&"Netscape"!=navigator.appName?(na.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var s=t*this[e++]+r[n]+i;i=Math.floor(s/0x4000000),r[n++]=0x3ffffff&s}return i},ed=26):(na.prototype.am=function(e,t,r,n,i,o){for(var s=16383&t,a=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,f=a*u+c*s;i=((u=s*u+((16383&f)<<14)+r[n]+i)>>28)+(f>>14)+a*c,r[n++]=0xfffffff&u}return i},ed=28),na.prototype.DB=ed,na.prototype.DM=(1<<ed)-1,na.prototype.DV=1<<ed,na.prototype.FV=0x10000000000000,na.prototype.F1=52-ed,na.prototype.F2=2*ed-52;var nf=[];for(eg=0,ep=48;eg<=9;++eg)nf[ep++]=eg;for(eg=10,ep=97;eg<36;++eg)nf[ep++]=eg;for(eg=10,ep=65;eg<36;++eg)nf[ep++]=eg;function nl(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function nh(e){var t=nu();return t.fromInt(e),t}function nd(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function np(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function ng(e){return r9.hp.from(new ns().random(e).toString(),"hex")}np.prototype.convert=function(e){var t=nu();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(na.ZERO)>0&&this.m.subTo(t,t),t},np.prototype.revert=function(e){var t=nu();return e.copyTo(t),this.reduce(t),t},np.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e[t],n=r*this.mpl+((r*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e[r]+=this.m.am(0,n,e,t,0,this.m.t);e[r]>=e.DV;)e[r]-=e.DV,e[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},np.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},np.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},na.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},na.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},na.prototype.fromString=function(e,t){if(16==t)r=4;else if(8==t)r=3;else if(2==t)r=1;else if(32==t)r=5;else if(4==t)r=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");this.t=0,this.s=0;for(var r,n=e.length,i=!1,o=0;--n>=0;){var s=function(e,t){var r=nf[e.charCodeAt(t)];return null==r?-1:r}(e,n);if(s<0){"-"==e.charAt(n)&&(i=!0);continue}i=!1,0==o?this[this.t++]=s:o+r>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,(o+=r)>=this.DB&&(o-=this.DB)}this.clamp(),i&&na.ZERO.subTo(this,this)},na.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},na.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t[r+e]=this[r];for(r=e-1;r>=0;--r)t[r]=0;t.t=this.t+e,t.s=this.s},na.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t[r-e]=this[r];t.t=Math.max(this.t-e,0),t.s=this.s},na.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,s=Math.floor(e/this.DB),a=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t[r+s+1]=this[r]>>i|a,a=(this[r]&o)<<n;for(r=s-1;r>=0;--r)t[r]=0;t[s]=a,t.t=this.t+s+1,t.s=this.s,t.clamp()},na.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t){t.t=0;return}var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t[0]=this[r]>>n;for(var s=r+1;s<this.t;++s)t[s-r-1]|=(this[s]&o)<<i,t[s-r]=this[s]>>n;n>0&&(t[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()},na.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]-e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e[r],t[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t[r++]=this.DV+n:n>0&&(t[r++]=n),t.t=r,t.clamp()},na.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t[i]=0;for(i=0;i<n.t;++i)t[i+r.t]=r.am(0,n[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&na.ZERO.subTo(t,t)},na.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t[r],e,2*r,0,1);(e[r+t.t]+=t.am(r+1,2*t[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e[r+t.t]-=t.DV,e[r+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(r,t[r],e,2*r,0,1)),e.s=0,e.clamp()},na.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t){null!=t&&t.fromInt(0),null!=r&&this.copyTo(r);return}null==r&&(r=nu());var o=nu(),s=this.s,a=e.s,u=this.DB-nd(n[n.t-1]);u>0?(n.lShiftTo(u,o),i.lShiftTo(u,r)):(n.copyTo(o),i.copyTo(r));var c=o.t,f=o[c-1];if(0!=f){var l=f*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),h=this.FV/l,d=(1<<this.F1)/l,p=1<<this.F2,g=r.t,v=g-c,y=null==t?nu():t;for(o.dlShiftTo(v,y),r.compareTo(y)>=0&&(r[r.t++]=1,r.subTo(y,r)),na.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--v>=0;){var m=r[--g]==f?this.DM:Math.floor(r[g]*h+(r[g-1]+p)*d);if((r[g]+=o.am(0,m,r,v,0,c))<m)for(o.dlShiftTo(v,y),r.subTo(y,r);r[g]<--m;)r.subTo(y,r)}null!=t&&(r.drShiftTo(c,t),s!=a&&na.ZERO.subTo(t,t)),r.t=c,r.clamp(),u>0&&r.rShiftTo(u,r),s<0&&na.ZERO.subTo(r,r)}}},na.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if((1&e)==0)return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},na.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this[r]+e[r],t[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this[r],t[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e[r],t[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t[r++]=n:n<-1&&(t[r++]=this.DV+n),t.t=r,t.clamp()},na.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else if(4==e)t=2;else throw Error("Only radix 2, 4, 8, 16, 32 are supported");var t,r,n=(1<<t)-1,i=!1,o="",s=this.t,a=this.DB-s*this.DB%t;if(s-- >0)for(a<this.DB&&(r=this[s]>>a)>0&&(i=!0,o=nl(r));s>=0;)a<t?r=(this[s]&(1<<a)-1)<<t-a|this[--s]>>(a+=this.DB-t):(r=this[s]>>(a-=t)&n,a<=0&&(a+=this.DB,--s)),r>0&&(i=!0),i&&(o+=nl(r));return i?o:"0"},na.prototype.negate=function(){var e=nu();return na.ZERO.subTo(this,e),e},na.prototype.abs=function(){return this.s<0?this.negate():this},na.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this[r]-e[r]))return t;return 0},na.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+nd(this[this.t-1]^this.s&this.DM)},na.prototype.mod=function(e){var t=nu();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(na.ZERO)>0&&e.subTo(t,t),t},na.prototype.equals=function(e){return 0==this.compareTo(e)},na.prototype.add=function(e){var t=nu();return this.addTo(e,t),t},na.prototype.subtract=function(e){var t=nu();return this.subTo(e,t),t},na.prototype.multiply=function(e){var t=nu();return this.multiplyTo(e,t),t},na.prototype.divide=function(e){var t=nu();return this.divRemTo(e,t,null),t},na.prototype.modPow=function(e,t,r){var n,i=e.bitLength(),o=nh(1),s=new np(t);if(i<=0)return o;var a=[],u=3,c=(n=i<18?1:i<48?3:i<144?4:i<768?5:6)-1,f=(1<<n)-1;if(a[1]=s.convert(this),n>1){var l=nu();for(s.sqrTo(a[1],l);u<=f;)a[u]=nu(),s.mulTo(l,a[u-2],a[u]),u+=2}var h,d,p=e.t-1,g=!0,v=nu();for(i=nd(e[p])-1;p>=0;){for(i>=c?h=e[p]>>i-c&f:(h=(e[p]&(1<<i+1)-1)<<c-i,p>0&&(h|=e[p-1]>>this.DB+i-c)),u=n;(1&h)==0;)h>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),g)a[h].copyTo(o),g=!1;else{for(;u>1;)s.sqrTo(o,v),s.sqrTo(v,o),u-=2;u>0?s.sqrTo(o,v):(d=o,o=v,v=d),s.mulTo(v,a[h],o)}for(;p>=0&&(e[p]&1<<i)==0;)s.sqrTo(o,v),d=o,o=v,v=d,--i<0&&(i=this.DB-1,--p)}var y=s.revert(o);return r(null,y),y},na.ZERO=nh(0),na.ONE=nh(1);var nv=/^[89a-f]/i,ny=function(){function e(e){this.N=new na("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new na("2",16),this.k=new na(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue(function(){}),this.infoBits=r9.hp.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,function(r,n){r&&e(r,null),t.largeAValue=n,e(null,t.largeAValue)})},t.generateRandomSmallA=function(){return new na(ng(128).toString("hex"),16)},t.generateRandomString=function(){return ng(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,r){var n=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),s=ng(16).toString("hex");this.SaltToHashDevices=this.padHex(new na(s,16)),this.g.modPow(new na(this.hexHash(this.SaltToHashDevices+o),16),this.N,function(e,t){e&&r(e,null),n.verifierDevices=n.padHex(t),r(null,null)})},t.calculateA=function(e,t){var r=this;this.g.modPow(e,this.N,function(e,n){e&&t(e,null),n.mod(r.N).equals(na.ZERO)&&t(Error("Illegal paramater. A mod N cannot be 0."),null),t(null,n)})},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new na(this.UHexHash,16)},t.hash=function(e){var t=e instanceof r9.hp?nt().lib.WordArray.create(e):e,r=nn()(t).toString();return Array(64-r.length).join("0")+r},t.hexHash=function(e){return this.hash(r9.hp.from(e,"hex"))},t.computehkdf=function(e,t){var r=nt().lib.WordArray.create(r9.hp.concat([this.infoBits,r9.hp.from("\x01","utf8")])),n=e instanceof r9.hp?nt().lib.WordArray.create(e):e,i=t instanceof r9.hp?nt().lib.WordArray.create(t):t,o=no()(n,i),s=no()(r,o);return r9.hp.from(s.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,r,n,i){var o=this;if(r.mod(this.N).equals(na.ZERO))throw Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,r),this.UValue.equals(na.ZERO))throw Error("U cannot be zero.");var s=""+this.poolName+e+":"+t,a=this.hash(s),u=new na(this.hexHash(this.padHex(n)+a),16);this.calculateS(u,r,function(e,t){e&&i(e,null),i(null,o.computehkdf(r9.hp.from(o.padHex(t),"hex"),r9.hp.from(o.padHex(o.UValue),"hex")))})},t.calculateS=function(e,t,r){var n=this;this.g.modPow(e,this.N,function(i,o){i&&r(i,null),t.subtract(n.k.multiply(o)).modPow(n.smallAValue.add(n.UValue.multiply(e)),n.N,function(e,t){e&&r(e,null),r(null,t.mod(n.N))})})},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof na))throw Error("Not a BigInteger");var t=0>e.compareTo(na.ZERO),r=e.abs().toString(16);return r=r.length%2!=0?"0"+r:r,r=nv.test(r)?"00"+r:r,t&&(r=new na(r.split("").map(function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)}).join(""),16).add(na.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(r=r.substring(2)),r},e}(),nm=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(r9.hp.from(e,"base64").toString("utf8"))}catch(e){return{}}},e}();function nb(e,t){return(nb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var nw=function(e){function t(t){var r=(void 0===t?{}:t).AccessToken;return e.call(this,r||"")||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nb(t,e),t}(nm);function n_(e,t){return(n_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var nS=function(e){function t(t){var r=(void 0===t?{}:t).IdToken;return e.call(this,r||"")||this}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,n_(t,e),t}(nm),nA=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),nC=r(3946),nE=r.n(nC),nI=function(){function e(e){var t=void 0===e?{}:e,r=t.IdToken,n=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==r)throw Error("Id token and Access Token must be present.");this.idToken=r,this.refreshToken=n,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),nP=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nU=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],nT=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=nU[e.getUTCDay()],r=nP[e.getUTCMonth()],n=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var s=e.getUTCSeconds();return s<10&&(s="0"+s),t+" "+r+" "+n+" "+i+":"+o+":"+s+" UTC "+e.getUTCFullYear()},e}(),nk=function(){function e(e){var t=void 0===e?{}:e,r=t.Name,n=t.Value;this.Name=r||"",this.Value=n||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),nO={},nM=function(){function e(){}return e.setItem=function(e,t){return nO[e]=t,nO[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(nO,e)?nO[e]:void 0},e.removeItem=function(e){return delete nO[e]},e.clear=function(){return nO={}},e}(),nx=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(e){this.storageWindow=nM}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),nR="undefined"!=typeof navigator?navigator.userAgent:"nodejs",nD=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||new nx().getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var r=this,n=e.getAuthParameters();n.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:n,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,function(e,n){if(e)return t.onFailure(e);var i=n.ChallengeName,o=n.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(r.Session=n.Session,t.customChallenge(o)):(r.signInUserSession=r.getCognitoUserSession(n.AuthenticationResult),r.cacheTokens(),t.onSuccess(r.signInUserSession))})},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var r,n,i=this,o=new ny(this.pool.getUserPoolName()),s=new nT,a={};null!=this.deviceKey&&(a.DEVICE_KEY=this.deviceKey),a.USERNAME=this.username,o.getLargeAValue(function(u,c){u&&t.onFailure(u),a.SRP_A=c.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(a.CHALLENGE_NAME="SRP_A");var f=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),l={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:a,ClientMetadata:f};i.getUserContextData(i.username)&&(l.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",l,function(a,u){if(a)return t.onFailure(a);var c=u.ChallengeParameters;i.username=c.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",r=new na(c.SRP_B,16),n=new na(c.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),r,n,function(e,r){e&&t.onFailure(e);var n=s.getNowString(),a=nt().lib.WordArray.create(r9.hp.concat([r9.hp.from(i.pool.getUserPoolName(),"utf8"),r9.hp.from(i.username,"utf8"),r9.hp.from(c.SECRET_BLOCK,"base64"),r9.hp.from(n,"utf8")])),l=nt().lib.WordArray.create(r),h=nE().stringify(no()(a,l)),d={};d.USERNAME=i.username,d.PASSWORD_CLAIM_SECRET_BLOCK=c.SECRET_BLOCK,d.TIMESTAMP=n,d.PASSWORD_CLAIM_SIGNATURE=h,null!=i.deviceKey&&(d.DEVICE_KEY=i.deviceKey);var p={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:d,Session:u.Session,ClientMetadata:f};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),function e(t,r){return i.client.request("RespondToAuthChallenge",t,function(n,o){return n&&"ResourceNotFoundException"===n.code&&-1!==n.message.toLowerCase().indexOf("device")?(d.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,r)):r(n,o)})}(p,function(e,r){return e?t.onFailure(e):i.authenticateUserInternal(r,o,t)})})})})},t.authenticateUserPlainUsernamePassword=function(e,t){var r=this,n={};if(n.USERNAME=this.username,n.PASSWORD=e.getPassword(),!n.PASSWORD){t.onFailure(Error("PASSWORD parameter is required"));return}var i=new ny(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(n.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),s={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:n,ClientMetadata:o};this.getUserContextData(this.username)&&(s.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",s,function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,i,t)})},t.authenticateUserInternal=function(e,t,r){var n=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,r.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,r.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,r.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,r.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,r.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var s=null,a=null,u=[],c=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(s=JSON.parse(e.ChallengeParameters.userAttributes),a=JSON.parse(e.ChallengeParameters.requiredAttributes)),a)for(var f=0;f<a.length;f++)u[f]=a[f].substr(c.length);return r.newPasswordRequired(s,u)}if("DEVICE_SRP_AUTH"===i){this.Session=e.Session,this.getDeviceResponse(r);return}this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var l=e.AuthenticationResult.NewDeviceMetadata;if(null==l)return r.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(i){if(i)return r.onFailure(i);var o={Salt:r9.hp.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:r9.hp.from(t.getVerifierDevices(),"hex").toString("base64")};n.verifierDevices=o.PasswordVerifier,n.deviceGroupKey=l.DeviceGroupKey,n.randomPassword=t.getRandomPassword(),n.client.request("ConfirmDevice",{DeviceKey:l.DeviceKey,AccessToken:n.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:nR},function(t,i){return t?r.onFailure(t):(n.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,n.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary)?r.onSuccess(n.signInUserSession,i.UserConfirmationNecessary):r.onSuccess(n.signInUserSession)})})},t.completeNewPasswordChallenge=function(e,t,r,n){var i=this;if(!e)return r.onFailure(Error("New password is required."));var o=new ny(this.pool.getUserPoolName()),s=o.getNewPasswordRequiredChallengeUserAttributePrefix(),a={};t&&Object.keys(t).forEach(function(e){a[s+e]=t[e]}),a.NEW_PASSWORD=e,a.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:a,Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,function(e,t){return e?r.onFailure(e):i.authenticateUserInternal(t,o,r)})},t.getDeviceResponse=function(e,t){var r=this,n=new ny(this.deviceGroupKey),i=new nT,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,n.getLargeAValue(function(s,a){s&&e.onFailure(s),o.SRP_A=a.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:r.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:r.Session};r.getUserContextData()&&(u.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",u,function(t,o){if(t)return e.onFailure(t);var s=o.ChallengeParameters,a=new na(s.SRP_B,16),u=new na(s.SALT,16);n.getPasswordAuthenticationKey(r.deviceKey,r.randomPassword,a,u,function(t,n){if(t)return e.onFailure(t);var a=i.getNowString(),u=nt().lib.WordArray.create(r9.hp.concat([r9.hp.from(r.deviceGroupKey,"utf8"),r9.hp.from(r.deviceKey,"utf8"),r9.hp.from(s.SECRET_BLOCK,"base64"),r9.hp.from(a,"utf8")])),c=nt().lib.WordArray.create(n),f=nE().stringify(no()(u,c)),l={};l.USERNAME=r.username,l.PASSWORD_CLAIM_SECRET_BLOCK=s.SECRET_BLOCK,l.TIMESTAMP=a,l.PASSWORD_CLAIM_SIGNATURE=f,l.DEVICE_KEY=r.deviceKey;var h={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:r.pool.getClientId(),ChallengeResponses:l,Session:o.Session};r.getUserContextData()&&(h.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",h,function(t,n){return t?e.onFailure(t):(r.signInUserSession=r.getCognitoUserSession(n.AuthenticationResult),r.cacheTokens(),e.onSuccess(r.signInUserSession))})})})})},t.confirmRegistration=function(e,t,r,n){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:n};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,function(e){return e?r(e,null):r(null,"SUCCESS")})},t.sendCustomChallengeAnswer=function(e,t,r){var n=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new ny(this.pool.getUserPoolName());this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var s={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,o,t)})},t.sendMFACode=function(e,t,r,n){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var s=r||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===s&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var a={ChallengeName:s,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,function(e,r){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"===r.ChallengeName){i.getDeviceResponse(t);return}if(i.signInUserSession=i.getCognitoUserSession(r.AuthenticationResult),i.cacheTokens(),null==r.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var n=new ny(i.pool.getUserPoolName());n.generateHashDevice(r.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,r.AuthenticationResult.NewDeviceMetadata.DeviceKey,function(e){if(e)return t.onFailure(e);var o={Salt:r9.hp.from(n.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:r9.hp.from(n.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=r.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=n.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:r.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:nR},function(e,n){return e?t.onFailure(e):(i.deviceKey=r.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===n.UserConfirmationNecessary)?t.onSuccess(i.signInUserSession,n.UserConfirmationNecessary):t.onSuccess(i.signInUserSession)})})})},t.changePassword=function(e,t,r,n){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return r(Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},function(e){return e?r(e,null):r(null,"SUCCESS")})},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.setUserMfaPreference=function(e,t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r(Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?r(e,null):r(null,"SUCCESS")})},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t){return t?e(t,null):e(null,"SUCCESS")})},t.deleteUser=function(e,t){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},function(t){return t?e(t,null):(r.clearCachedUser(),e(null,"SUCCESS"))})},t.updateAttributes=function(e,t,r){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:r},function(e){return e?t(e,null):n.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},t.getUserAttributes=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,r){if(t)return e(t,null);for(var n=[],i=0;i<r.UserAttributes.length;i++){var o=new nk({Name:r.UserAttributes[i].Name,Value:r.UserAttributes[i].Value});n.push(o)}return e(null,n)})},t.getMFAOptions=function(e){if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return e(Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,r){return t?e(t,null):e(null,r.MFAOptions)})},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise(function(r){var n=t.signInUserSession.getRefreshToken();n&&n.getToken()?t.refreshSession(n,r,e.clientMetadata):r()})},t.getUserData=function(e,t){var r=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return this.clearCachedUserData(),e(Error("User is not authenticated"),null);var n=this.getUserDataFromCache();if(!n){this.fetchUserData().then(function(t){e(null,t)}).catch(e);return}if(this.isFetchUserDataAndTokenRequired(t)){this.fetchUserData().then(function(e){return r.refreshSessionIfPossible(t).then(function(){return e})}).then(function(t){return e(null,t)}).catch(e);return}try{e(null,JSON.parse(n));return}catch(t){this.clearCachedUserData(),e(t,null);return}},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then(function(t){return e.cacheUserData(t),t})},t.deleteAttributes=function(e,t){var r=this;if(!(null!=this.signInUserSession&&this.signInUserSession.isValid()))return t(Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?t(e,null):r.getUserData(function(){return t(null,"SUCCESS")},{bypassCache:!0})})},t.resendConfirmationCode=function(e,t){var r={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",r,function(t,r){return t?e(t,null):e(null,r)})},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var r="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,n=r+".idToken";if(this.storage.getItem(n)){var i=new nS({IdToken:this.storage.getItem(n)}),o=new nw({AccessToken:this.storage.getItem(r+".accessToken")}),s=new nA({RefreshToken:this.storage.getItem(r+".refreshToken")}),a=new nI({IdToken:i,AccessToken:o,RefreshToken:s,ClockDrift:parseInt(this.storage.getItem(r+".clockDrift"),0)||0});if(a.isValid())return this.signInUserSession=a,e(null,this.signInUserSession);if(!s.getToken())return e(Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(s,e,t.clientMetadata)}else e(Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,r){var n=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var s="CognitoIdentityServiceProvider."+this.pool.getClientId(),a=s+".LastAuthUser";if(this.storage.getItem(a)){this.username=this.storage.getItem(a);var u=s+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var c={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:r};this.getUserContextData()&&(c.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",c,function(t,r){if(t)return"NotAuthorizedException"===t.code&&n.clearCachedUser(),i(t,null);if(r){var o=r.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),n.signInUserSession=n.getCognitoUserSession(o),n.cacheTokens(),i(null,n.signInUserSession)}})},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",r=e+"."+this.username+".accessToken",n=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(e+".LastAuthUser",this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.setItem(e+".deviceKey",this.deviceKey),this.storage.setItem(e+".randomPasswordKey",this.randomPassword),this.storage.setItem(e+".deviceGroupKey",this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(e+".randomPasswordKey"),this.deviceGroupKey=this.storage.getItem(e+".deviceGroupKey"))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username;this.storage.removeItem(e+".deviceKey"),this.storage.removeItem(e+".randomPasswordKey"),this.storage.removeItem(e+".deviceGroupKey")},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",r=e+"."+this.username+".accessToken",n=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(r),this.storage.removeItem(n),this.storage.removeItem(e+".LastAuthUser"),this.storage.removeItem(i)},t.getCognitoUserSession=function(e){return new nI({IdToken:new nS(e),AccessToken:new nw(e),RefreshToken:new nA(e)})},t.forgotPassword=function(e,t){var r={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(r.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",r,function(t,r){return t?e.onFailure(t):"function"==typeof e.inputVerificationCode?e.inputVerificationCode(r):e.onSuccess(r)})},t.confirmPassword=function(e,t,r,n){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:n};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,function(e){return e?r.onFailure(e):r.onSuccess("SUCCESS")})},t.getAttributeVerificationCode=function(e,t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},function(e,r){return e?t.onFailure(e):"function"==typeof t.inputVerificationCode?t.inputVerificationCode(r):t.onSuccess("SUCCESS")})},t.verifyAttribute=function(e,t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(e){return e?r.onFailure(e):r.onSuccess("SUCCESS")})},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},function(t,r){return t?e.onFailure(t):e.onSuccess(r)})},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")})},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(r){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(r)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")})},t.listDevices=function(e,t,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return r.onFailure(Error("User is not authenticated"));var n={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(n.PaginationToken=t),this.client.request("ListDevices",n,function(e,t){return e?r.onFailure(e):r.onSuccess(t)})},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(r){return r?e.onFailure(r):(t.clearCachedUser(),e.onSuccess("SUCCESS"))})},t.signOut=function(e){var t=this;if(!e||"function"!=typeof e){this.cleanClientData();return}this.getSession(function(r,n){if(r)return e(r);t.revokeTokens(function(r){t.cleanClientData(),e(r)})})},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!=typeof e)throw Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),r=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(r)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"==typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(e){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,r=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},function(e){if(e)return r(e);r()})},t.sendMFASelectionAnswer=function(e,t){var r=this,n={};n.USERNAME=this.username,n.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:n,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,function(n,i){return n?t.onFailure(n):(r.Session=i.Session,"SMS_MFA"===e)?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0})},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},function(t,r){return t?e.onFailure(t):e.associateSecretCode(r.SecretCode)}):this.client.request("AssociateSoftwareToken",{Session:this.Session},function(r,n){return r?e.onFailure(r):(t.Session=n.Session,e.associateSecretCode(n.SecretCode))})},t.verifySoftwareToken=function(e,t,r){var n=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},function(e,t){return e?r.onFailure(e):r.onSuccess(t)}):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},function(e,t){if(e)return r.onFailure(e);n.Session=t.Session;var i={};i.USERNAME=n.username;var o={ChallengeName:"MFA_SETUP",ClientId:n.pool.getClientId(),ChallengeResponses:i,Session:n.Session};n.getUserContextData()&&(o.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",o,function(e,t){return e?r.onFailure(e):(n.signInUserSession=n.getCognitoUserSession(t.AuthenticationResult),n.cacheTokens(),r.onSuccess(n.signInUserSession))})})},e}();r(5368);var nF="aws-amplify/5.0.4",nN={userAgent:nF+" js",product:"",navigator:null,isReactNative:!1};function nL(){}function nj(e){var t="function"==typeof Map?new Map:void 0;return(nj=function(e){var r;if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return nB(e,arguments,nq(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),nH(n,e)})(e)}function nB(e,t,r){return(nB=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&nH(i,r.prototype),i}:Reflect.construct.bind()).apply(null,arguments)}function nH(e,t){return(nH=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nq(e){return(nq=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}"undefined"!=typeof navigator&&navigator.product&&((nN.product=navigator.product||"",nN.navigator=navigator||null,"ReactNative"===navigator.product)?(nN.userAgent=nF+" react-native",nN.isReactNative=!0):(nN.userAgent=nF+" js",nN.isReactNative=!1)),nL.prototype.userAgent=nN.userAgent;var nK=function(e){function t(t,r,n,i){var o;return(o=e.call(this,t)||this).code=r,o.name=n,o.statusCode=i,o}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,nH(t,e),t}(nj(Error)),nV=function(){function e(e,t,r){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var n=(r||{}).credentials;this.fetchOptions=n?{credentials:n}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var r=this;return new Promise(function(n,i){r.request(e,t,function(e,t){e?i(new nK(e.message,e.code,e.name,e.statusCode)):n(t)})})},t.requestWithRetry=function(e,t,r){var n,i,o=this;(n=5e3,function e(t,r,n,i){if(void 0===i&&(i=1),"function"!=typeof t)throw Error("functionToRetry must be a function");return nz.debug(t.name+" attempt #"+i+" with args: "+JSON.stringify(r)),t.apply(void 0,r).catch(function(o){if(nz.debug("error on "+t.name,o),o&&o.nonRetryable)throw nz.debug(t.name+" non retryable error",o),o;var s=n(i,r,o);if(nz.debug(t.name+" retrying in "+s+" ms"),!1!==s)return new Promise(function(e){return setTimeout(e,s)}).then(function(){return e(t,r,n,i+1)});throw o})}(function(t){return new Promise(function(r,n){o.request(e,t,function(e,t){e?n(e):r(t)})})},[t],(i=n,function(e){var t=100*Math.pow(2,e)+100*Math.random();return!(t>i)&&t}))).then(function(e){return r(null,e)}).catch(function(e){return r(e)})},t.request=function(e,t,r){var n,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":nL.prototype.userAgent,"Cache-Control":"no-store"},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",body:JSON.stringify(t)});fetch(this.endpoint,o).then(function(e){return n=e,e},function(e){if(e instanceof TypeError)throw Error("Network error");throw e}).then(function(e){return e.json().catch(function(){return{}})}).then(function(e){if(n.ok)return r(null,e);var t=(e.__type||e.code).split("#").pop(),i=Error(e.message||e.Message||null);return i.name=t,i.code=t,r(i)}).catch(function(e){if(n&&n.headers&&n.headers.get("x-amzn-errortype"))try{var t=n.headers.get("x-amzn-errortype").split(":")[0],i=Error(n.status?n.status.toString():null);return i.code=t,i.name=t,i.statusCode=n.status,r(i)}catch(e){}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return r(e)})},e}(),nz={debug:function(){}},nW=function(){function e(e,t){var r=e||{},n=r.UserPoolId,i=r.ClientId,o=r.endpoint,s=r.fetchOptions,a=r.AdvancedSecurityDataCollectionFlag;if(!n||!i)throw Error("Both UserPoolId and ClientId are required.");if(n.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(n))throw Error("Invalid UserPoolId format.");var u=n.split("_")[0];this.userPoolId=n,this.clientId=i,this.client=new nV(u,o,s),this.advancedSecurityDataCollectionFlag=!1!==a,this.storage=e.Storage||new nx().getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getUserPoolName=function(){return this.getUserPoolId().split("_")[1]},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,r,n,i,o){var s=this,a={ClientId:this.clientId,Username:e,Password:t,UserAttributes:r,ValidationData:n,ClientMetadata:o};this.getUserContextData(e)&&(a.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",a,function(t,r){return t?i(t,null):i(null,{user:new nD({Username:e,Pool:s,Storage:s.storage}),userConfirmed:r.UserConfirmed,userSub:r.UserSub,codeDeliveryDetails:r.CodeDeliveryDetails})})},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);return t?new nD({Username:t,Pool:this,Storage:this.storage}):null},t.getUserContextData=function(e){if("undefined"!=typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var r=t.getData(e,this.userPoolId,this.clientId);if(r)return{EncodedData:r}}return{}}},e}(),nG=r(9195),nY=function(){function e(e){if(e.domain)this.domain=e.domain;else throw Error("The domain of cookieStorage can not be undefined.");if(e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var r={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(r.sameSite=this.sameSite),nG.set(e,t,r),nG.get(e)},t.getItem=function(e){return nG.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),nG.remove(e,t)},t.clear=function(){for(var e=nG.get(),t=Object.keys(e).length,r=0;r<t;++r)this.removeItem(Object.keys(e)[r]);return{}},e}(),nJ=r(2463),nZ=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},nQ=function(e){window.sessionStorage.setItem("oauth_state",e)},nX=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e},n$=function(e){window.sessionStorage.setItem("ouath_pkce_key",e)},n0=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e},n1=function(){return(n1=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},n2=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},n3=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},n6=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},n4="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",n5=function(e,t,r){eP.dispatch("auth",{event:e,data:t,message:r},"Auth",n4)},n8=new e_("OAuth"),n7=function(){function e(e){var t=e.config,r=e.cognitoClientId,n=e.scopes,i=void 0===n?[]:n;if(this._urlOpener=t.urlOpener||nZ,this._config=t,this._cognitoClientId=r,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every(function(e){return"string"==typeof e})},e.prototype.oauthSignIn=function(e,t,r,n,i,s){void 0===e&&(e="code"),void 0===i&&(i=o.Cognito);var a=this._generateState(32),u=s?a+"-"+s.split("").map(function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")}).join(""):a;nQ(u);var c=this._generateRandom(128);n$(c);var f=this._generateChallenge(c),l=this._scopes.join(" "),h="https://"+t+"/oauth2/authorize?"+Object.entries(n1(n1({redirect_uri:r,response_type:e,client_id:n,identity_provider:i,scope:l,state:u},"code"===e?{code_challenge:f}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map(function(e){var t=n6(e,2),r=t[0],n=t[1];return encodeURIComponent(r)+"="+encodeURIComponent(n)}).join("&");n8.debug("Redirecting to "+h),this._urlOpener(h,r)},e.prototype._handleCodeFlow=function(e){return n2(this,void 0,void 0,function(){var t,r,n,o,s,a,u,c,f,l,h,d,p;return n3(this,function(g){switch(g.label){case 0:if(t=((0,nJ.parse)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var r,n=n6(t,2),i=n[0],o=n[1];return n1(n1({},e),((r={})[i]=o,r))},{code:void 0}).code,r=(0,nJ.parse)(e).pathname||"/",n=(0,nJ.parse)(this._config.redirectSignIn).pathname||"/",!t||r!==n)return[2];return n5("codeFlow",{},"Retrieving tokens from "+(o="https://"+this._config.domain+"/oauth2/token")),s=i(this._config)?this._cognitoClientId:this._config.clientID,a=i(this._config)?this._config.redirectSignIn:this._config.redirectUri,u=n0(),c=n1({grant_type:"authorization_code",code:t,client_id:s,redirect_uri:a},u?{code_verifier:u}:{}),n8.debug("Calling token endpoint: "+o+" with",c),[4,fetch(o,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:Object.entries(c).map(function(e){var t=n6(e,2),r=t[0],n=t[1];return encodeURIComponent(r)+"="+encodeURIComponent(n)}).join("&")})];case 1:return[4,g.sent().json()];case 2:if(l=(f=g.sent()).access_token,h=f.refresh_token,d=f.id_token,p=f.error)throw Error(p);return[2,{accessToken:l,refreshToken:h,idToken:d}]}})})},e.prototype._handleImplicitFlow=function(e){return n2(this,void 0,void 0,function(){var t,r,n;return n3(this,function(i){return r=(t=((0,nJ.parse)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var r,n=n6(t,2),i=n[0],o=n[1];return n1(n1({},e),((r={})[i]=o,r))},{id_token:void 0,access_token:void 0})).id_token,n=t.access_token,n5("implicitFlow",{},"Got tokens from "+e),n8.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:n,idToken:r,refreshToken:null}]})})},e.prototype.handleAuthResponse=function(e){return n2(this,void 0,void 0,function(){var t,r,n,i,o,s,a;return n3(this,function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),r=(t=e?n1(n1({},((0,nJ.parse)(e).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var r=n6(t,2),n=r[0],i=r[1];return e[n]=i,e},{})),((0,nJ.parse)(e).query||"").split("&").map(function(e){return e.split("=")}).reduce(function(e,t){var r=n6(t,2),n=r[0],i=r[1];return e[n]=i,e},{})):{}).error,n=t.error_description,r)throw Error(n);if(i=this._validateState(t),n8.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType)return[3,2];return o=[{}],[4,this._handleCodeFlow(e)];case 1:return[2,n1.apply(void 0,[n1.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return s=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,n1.apply(void 0,[n1.apply(void 0,s.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw a=u.sent(),n8.error("Error handling auth response.",a),a;case 6:return[2]}})})},e.prototype._validateState=function(e){if(e){var t=nX(),r=e.state;if(t&&t!==r)throw Error("Invalid state in OAuth flow");return r}},e.prototype.signOut=function(){return n2(this,void 0,void 0,function(){var e,t,r;return n3(this,function(n){return e="https://"+this._config.domain+"/logout?",t=i(this._config)?this._cognitoClientId:this._config.oauth.clientID,r=i(this._config)?this._config.redirectSignOut:this._config.returnTo,n5("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+(e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(r)}).map(function(e){var t=n6(e,2);return t[0]+"="+t[1]}).join("&"))),n8.debug("Signing out from "+e),[2,this._urlOpener(e,r)]})})},e.prototype._generateState=function(e){for(var t="",r=e,n="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";r>0;--r)t+=n[Math.round(Math.random()*(n.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(nn()(e))},e.prototype._base64URL=function(e){return e.toString(nE()).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!=typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var r=0;r<e;r+=1)t[r]=66*Math.random()|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=[],n=0;n<e.byteLength;n+=1){var i=e[n]%t.length;r.push(t[i])}return r.join("")},e}();let n9=function(e){if(eH().isBrowser&&window.location)e({url:window.location.href});else if(eH().isNode);else throw Error("Not supported")};!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool",e.AUTOSIGNIN_ERROR="Please use your credentials to sign in"}(ev||(ev={}));var ie=function(){var e=function(t,r){return(e=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),it=new e_("AuthError"),ir=function(e){function t(r){var n=this,i=io[r],o=i.message,s=i.log;return(n=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="AuthError",n.log=s||o,it.error(n.log),n}return ie(t,e),t}(Error),ii=function(e){function t(r){var n=e.call(this,r)||this;return n.constructor=t,Object.setPrototypeOf(n,t.prototype),n.name="NoUserPoolError",n}return ie(t,e),t}(ir),io={noConfig:{message:ev.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:ev.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:ev.EMPTY_USERNAME},invalidUsername:{message:ev.INVALID_USERNAME},emptyPassword:{message:ev.EMPTY_PASSWORD},emptyCode:{message:ev.EMPTY_CODE},signUpError:{message:ev.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:ev.NO_MFA},invalidMFA:{message:ev.INVALID_MFA},emptyChallengeResponse:{message:ev.EMPTY_CHALLENGE},noUserSession:{message:ev.NO_USER_SESSION},deviceConfig:{message:ev.DEVICE_CONFIG},networkError:{message:ev.NETWORK_ERROR},autoSignInError:{message:ev.AUTOSIGNIN_ERROR},default:{message:ev.DEFAULT_MSG}},is=function(){return(is=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},ia=function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},iu=function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ic=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s},il=new e_("AuthClass"),ih="aws.cognito.signin.user.admin",id="undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",ip=function(e,t,r){eP.dispatch("auth",{event:e,data:t,message:r},"Auth",id)},ig=new(function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.autoSignInInitiated=!1,this.Credentials=rQ,this.wrapRefreshSessionCallback=function(e){return function(t,r){return r?ip("tokenRefresh",void 0,"New token retrieved"):ip("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,r)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),eP.listen("auth",function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}})}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};il.debug("configure Auth");var r=Object.assign({},this._config,r1.parseMobilehubConfig(e).Auth,e);this._config=r;var n=this._config,o=n.userPoolId,a=n.userPoolWebClientId,u=n.cookieStorage,c=n.oauth,f=n.region,l=n.identityPoolId,h=n.mandatorySignIn,d=n.refreshHandlers,p=n.identityPoolRegion,g=n.clientMetadata,v=n.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw il.error("The storage in the Auth config is not valid!"),Error("Empty storage object");this._storage=this._config.storage}else u?this._storage=new nY(u):this._storage=e.ssr?new r8:new ek().getStorage();if(this._storageSync=Promise.resolve(),"function"==typeof this._storage.sync&&(this._storageSync=this._storage.sync()),o){var y={UserPoolId:o,ClientId:a,endpoint:v};y.Storage=this._storage,this.userPool=new nW(y,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:h,region:p||f,userPoolId:o,identityPoolId:l,refreshHandlers:d,storage:this._storage});var m=c?i(this._config.oauth)?c:c.awsCognito:void 0;if(m){var b=Object.assign({cognitoClientId:a,UserPoolId:o,domain:m.domain,scopes:m.scope,redirectSignIn:m.redirectSignIn,redirectSignOut:m.redirectSignOut,responseType:m.responseType,Storage:this._storage,urlOpener:m.urlOpener,clientMetadata:g},m.options);this._oAuthHandler=new n7({scopes:b.scopes,config:b,cognitoClientId:b.cognitoClientId});var w={};n9(function(e){var r=e.url;!w[r]&&(w[r]=!0,t._handleAuthResponse(r))})}return ip("configured",null,"The Auth category has been configured successfully"),this.autoSignInInitiated||"function"!=typeof this._storage.getItem||(this.isTrueStorageValue("amplify-polling-started")&&(ip("autoSignIn_failure",null,s.AutoSignInError),this._storage.removeItem("amplify-auto-sign-in")),this._storage.removeItem("amplify-polling-started")),this._config},e.prototype.signUp=function(e){for(var t,r,n,i,o=this,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];if(!this.userPool)return this.rejectNoUserPool();var c=null,f=null,l=[],h=null,d={enabled:!1},p={},g={};if(e&&"string"==typeof e){c=e,f=a?a[0]:null;var v=a?a[1]:null,y=a?a[2]:null;v&&l.push(new nk({Name:"email",Value:v})),y&&l.push(new nk({Name:"phone_number",Value:y}))}else{if(!e||"object"!=typeof e)return this.rejectAuthError(s.SignUpError);c=e.username,f=e.password,e&&e.clientMetadata?i=e.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata);var m=e.attributes;m&&Object.keys(m).map(function(e){l.push(new nk({Name:e,Value:m[e]}))});var b=e.validationData;b&&(h=[],Object.keys(b).map(function(e){h.push(new nk({Name:e,Value:b[e]}))})),(d=null!==(t=e.autoSignIn)&&void 0!==t?t:{enabled:!1}).enabled&&(this._storage.setItem("amplify-auto-sign-in","true"),p=null!==(r=d.validationData)&&void 0!==r?r:{},g=null!==(n=d.clientMetaData)&&void 0!==n?n:{})}return c?f?(il.debug("signUp attrs:",l),il.debug("signUp validation data:",h),new Promise(function(e,t){o.userPool.signUp(c,f,l,h,function(r,n){r?(ip("signUp_failure",r,c+" failed to signup"),t(r)):(ip("signUp",n,c+" has signed up successfully"),d.enabled&&o.handleAutoSignIn(c,f,p,g,n),e(n))},i)})):this.rejectAuthError(s.EmptyPassword):this.rejectAuthError(s.EmptyUsername)},e.prototype.handleAutoSignIn=function(e,t,r,n,i){this.autoSignInInitiated=!0;var o=new r7({Username:e,Password:t,ValidationData:r,ClientMetadata:n});i.userConfirmed?this.signInAfterUserConfirmed(o):"link"===this._config.signUpVerificationMethod?this.handleLinkAutoSignIn(o):this.handleCodeAutoSignIn(o)},e.prototype.handleCodeAutoSignIn=function(e){var t=this,r=function(n){"confirmSignUp"===n.payload.event&&t.signInAfterUserConfirmed(e,r)};eP.listen("auth",r)},e.prototype.handleLinkAutoSignIn=function(e){var t=this;this._storage.setItem("amplify-polling-started","true");var r=Date.now(),n=setInterval(function(){Date.now()-r>18e4?(clearInterval(n),ip("autoSignIn_failure",null,"Please confirm your account and use your credentials to sign in."),t._storage.removeItem("amplify-auto-sign-in")):t.signInAfterUserConfirmed(e,null,n)},5e3)},e.prototype.signInAfterUserConfirmed=function(e,t,r){return ia(this,void 0,void 0,function(){var n,i,o=this;return iu(this,function(s){switch(s.label){case 0:n=this.createCognitoUser(e.getUsername()),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,n.authenticateUser(e,this.authCallbacks(n,function(n){ip("autoSignIn",n,e.getUsername()+" has signed in successfully"),t&&eP.remove("auth",t),r&&(clearInterval(r),o._storage.removeItem("amplify-polling-started")),o._storage.removeItem("amplify-auto-sign-in")},function(e){il.error(e),o._storage.removeItem("amplify-auto-sign-in")}))];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),il.error(i),[3,4];case 4:return[2]}})})},e.prototype.confirmSignUp=function(e,t,r){var n,i=this;if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(s.EmptyUsername);if(!t)return this.rejectAuthError(s.EmptyCode);var o=this.createCognitoUser(e),a=!r||"boolean"!=typeof r.forceAliasCreation||r.forceAliasCreation;return r&&r.clientMetadata?n=r.clientMetadata:this._config.clientMetadata&&(n=this._config.clientMetadata),new Promise(function(r,u){o.confirmRegistration(t,a,function(t,n){t?u(t):(ip("confirmSignUp",n,e+" has been confirmed successfully"),i.isTrueStorageValue("amplify-auto-sign-in")&&!i.autoSignInInitiated&&(ip("autoSignIn_failure",null,s.AutoSignInError),i._storage.removeItem("amplify-auto-sign-in")),r(n))},n)})},e.prototype.isTrueStorageValue=function(e){var t=this._storage.getItem(e);return!!t&&"true"===t},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(s.EmptyUsername);var r=this.createCognitoUser(e);return new Promise(function(e,n){r.resendConfirmationCode(function(t,r){t?n(t):e(r)},t)})},e.prototype.signIn=function(e,t,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var n=null,i=null,o={};if("string"==typeof e)n=e,i=t;else{if(!e.username)return this.rejectAuthError(s.InvalidUsername);void 0!==t&&il.warn("The password should be defined under the first parameter object!"),n=e.username,i=e.password,o=e.validationData}if(!n)return this.rejectAuthError(s.EmptyUsername);var a=new r7({Username:n,Password:i,ValidationData:o,ClientMetadata:r});return i?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,r){var n=this,i=this;return{onSuccess:function(o){return ia(n,void 0,void 0,function(){var n,s,a,u;return iu(this,function(c){switch(c.label){case 0:il.debug(o),delete e.challengeName,delete e.challengeParam,c.label=1;case 1:return c.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return c.sent(),[4,this.Credentials.set(o,"session")];case 3:return n=c.sent(),il.debug("succeed to get cognito credentials",n),[3,9];case 4:return s=c.sent(),il.debug("cannot get cognito credentials",s),[3,9];case 5:return c.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return i.user=a=c.sent(),ip("signIn",a,"A user "+e.getUsername()+" has been signed in"),t(a),[3,8];case 7:return u=c.sent(),il.error("Failed to get the signed in user",u),r(u),[3,8];case 8:return[7];case 9:return[2]}})})},onFailure:function(t){il.debug("signIn failure",t),ip("signIn_failure",t,e.getUsername()+" failed to signin"),r(t)},customChallenge:function(r){il.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=r,t(e)},mfaRequired:function(r,n){il.debug("signIn MFA required"),e.challengeName=r,e.challengeParam=n,t(e)},mfaSetup:function(r,n){il.debug("signIn mfa setup",r),e.challengeName=r,e.challengeParam=n,t(e)},newPasswordRequired:function(r,n){il.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:r,requiredAttributes:n},t(e)},totpRequired:function(r,n){il.debug("signIn totpRequired"),e.challengeName=r,e.challengeParam=n,t(e)},selectMFAType:function(r,n){il.debug("signIn selectMFAType",r),e.challengeName=r,e.challengeParam=n,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw Error("Pending sign-in attempt already in progress");var r=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise(function(n,i){r.authenticateUser(e,t.authCallbacks(r,function(e){t.pendingSignIn=null,n(e)},function(e){t.pendingSignIn=null,i(e)}))}),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,r=this.createCognitoUser(e.getUsername());return r.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise(function(n,i){r.initiateAuth(e,t.authCallbacks(r,n,i))})},e.prototype.getMFAOptions=function(e){return new Promise(function(t,r){e.getMFAOptions(function(e,n){if(e){il.debug("get MFA Options failed",e),r(e);return}il.debug("get MFA options success",n),t(n)})})},e.prototype.getPreferredMFA=function(e,t){var r=this,n=this;return new Promise(function(i,o){var s=r._config.clientMetadata,a=!!t&&t.bypassCache;e.getUserData(function(t,s){return ia(r,void 0,void 0,function(){var r,a;return iu(this,function(u){switch(u.label){case 0:if(!t)return[3,5];if(il.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return r=u.sent(),o(Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return o(t),[2];case 5:if(!(a=n._getMfaTypeFromUserData(s)))return o("invalid MFA Type"),[2];return i(a),[2]}})})},{bypassCache:a,clientMetadata:s})})},e.prototype._getMfaTypeFromUserData=function(e){var t=null,r=e.PreferredMfaSetting;if(r)t=r;else{var n=e.UserMFASettingList;n?0===n.length?t="NOMFA":il.debug("invalid case for getPreferredMFA",e):t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var r=this;return new Promise(function(n,i){e.getUserData(function(t,o){return ia(r,void 0,void 0,function(){var r;return iu(this,function(s){switch(s.label){case 0:if(!t)return[3,5];if(il.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return r=s.sent(),i(Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+r.message)),[2];case 4:return i(t),[2];case 5:n(o),s.label=6;case 6:return[2]}})})},t)})},e.prototype.setPreferredMFA=function(e,t){return ia(this,void 0,void 0,function(){var r,n,i,o,a,u,c=this;return iu(this,function(f){switch(f.label){case 0:return r=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:r})];case 1:switch(n=f.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=n.UserMFASettingList,[4,this._getMfaTypeFromUserData(n)];case 5:if("NOMFA"===(u=f.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===u)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==u)return[2,this.rejectAuthError(s.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach(function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})}),[3,7];case 6:return il.debug("no validmfa method provided"),[2,this.rejectAuthError(s.NoMFA)];case 7:return[2,new Promise(function(t,n){e.setUserMfaPreference(i,o,function(i,o){if(i)return il.debug("Set user mfa preference error",i),n(i);il.debug("Set user mfa success",o),il.debug("Caching the latest user data into local"),e.getUserData(function(r,i){return ia(c,void 0,void 0,function(){var i;return iu(this,function(s){switch(s.label){case 0:if(!r)return[3,5];if(il.debug("getting user data failed",r),!this.isSessionInvalid(r))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),n(Error("Session is invalid due to: "+r.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,n(r)];case 5:return[2,t(o)]}})})},{bypassCache:!0,clientMetadata:r})})})]}})})},e.prototype.disableSMS=function(e){return new Promise(function(t,r){e.disableMFA(function(e,n){if(e){il.debug("disable mfa failed",e),r(e);return}il.debug("disable mfa succeed",n),t(n)})})},e.prototype.enableSMS=function(e){return new Promise(function(t,r){e.enableMFA(function(e,n){if(e){il.debug("enable mfa failed",e),r(e);return}il.debug("enable mfa succeed",n),t(n)})})},e.prototype.setupTOTP=function(e){return new Promise(function(t,r){e.associateSoftwareToken({onFailure:function(e){il.debug("associateSoftwareToken failed",e),r(e)},associateSecretCode:function(e){il.debug("associateSoftwareToken sucess",e),t(e)}})})},e.prototype.verifyTotpToken=function(e,t){return il.debug("verification totp token",e,t),new Promise(function(r,n){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){il.debug("verifyTotpToken failed",e),n(e)},onSuccess:function(t){ip("signIn",e,"A user "+e.getUsername()+" has been signed in"),il.debug("verifyTotpToken success",t),r(t)}})})},e.prototype.confirmSignIn=function(e,t,r,n){var i=this;if(void 0===n&&(n=this._config.clientMetadata),!t)return this.rejectAuthError(s.EmptyCode);var o=this;return new Promise(function(s,a){e.sendMFACode(t,{onSuccess:function(t){return ia(i,void 0,void 0,function(){var r,n;return iu(this,function(i){switch(i.label){case 0:il.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return r=i.sent(),il.debug("succeed to get cognito credentials",r),[3,6];case 4:return n=i.sent(),il.debug("cannot get cognito credentials",n),[3,6];case 5:return o.user=e,ip("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}})})},onFailure:function(e){il.debug("confirm signIn failure",e),a(e)}},r,n)})},e.prototype.completeNewPassword=function(e,t,r,n){var i=this;if(void 0===r&&(r={}),void 0===n&&(n=this._config.clientMetadata),!t)return this.rejectAuthError(s.EmptyPassword);var o=this;return new Promise(function(s,a){e.completeNewPasswordChallenge(t,r,{onSuccess:function(t){return ia(i,void 0,void 0,function(){var r,n;return iu(this,function(i){switch(i.label){case 0:il.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return r=i.sent(),il.debug("succeed to get cognito credentials",r),[3,6];case 4:return n=i.sent(),il.debug("cannot get cognito credentials",n),[3,6];case 5:return o.user=e,ip("signIn",e,"A user "+e.getUsername()+" has been signed in"),s(e),[7];case 6:return[2]}})})},onFailure:function(e){il.debug("completeNewPassword failure",e),ip("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),a(e)},mfaRequired:function(t,r){il.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=r,s(e)},mfaSetup:function(t,r){il.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=r,s(e)},totpRequired:function(t,r){il.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=r,s(e)}},n)})},e.prototype.sendCustomChallengeAnswer=function(e,t,r){var n=this;return(void 0===r&&(r=this._config.clientMetadata),this.userPool)?t?new Promise(function(i,o){e.sendCustomChallengeAnswer(t,n.authCallbacks(e,i,o),r)}):this.rejectAuthError(s.EmptyChallengeResponse):this.rejectNoUserPool()},e.prototype.deleteUserAttributes=function(e,t){var r=this;return new Promise(function(n,i){r.userSession(e).then(function(r){e.deleteAttributes(t,function(e,t){return e?i(e):n(t)})})})},e.prototype.deleteUser=function(){return ia(this,void 0,void 0,function(){var e,t,r=this;return iu(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this._storageSync];case 1:return n.sent(),[3,3];case 2:throw e=n.sent(),il.debug("Failed to sync cache info into memory",e),Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(e,n){return ia(r,void 0,void 0,function(){var r,i=this;return iu(this,function(o){if(this.userPool){if(!(r=this.userPool.getCurrentUser()))return il.debug("Failed to get user from user pool"),[2,n(Error("No current user."))];r.getSession(function(o,s){return ia(i,void 0,void 0,function(){var i,s=this;return iu(this,function(a){switch(a.label){case 0:if(!o)return[3,5];if(il.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(r)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),n(Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,n(o)];case 5:r.deleteUser(function(i,o){if(i)n(i);else{ip("userDeleted",o,"The authenticated user has been deleted."),r.signOut(),s.user=null;try{s.cleanCachedItems()}catch(e){il.debug("failed to clear cached items")}t?s.oAuthSignOutRedirect(e,n):(ip("signOut",s.user,"A user has been signed out"),e(o))}}),a.label=6;case 6:return[2]}})})})}else il.debug("no Congito User pool"),n(Error("Cognito User pool does not exist"));return[2]})})})]}})})},e.prototype.updateUserAttributes=function(e,t,r){void 0===r&&(r=this._config.clientMetadata);var n=[],i=this;return new Promise(function(o,s){i.userSession(e).then(function(i){for(var a in t)if("sub"!==a&&0>a.indexOf("_verified")){var u={Name:a,Value:t[a]};n.push(u)}e.updateAttributes(n,function(e,t){return e?s(e):o(t)},r)})})},e.prototype.userAttributes=function(e){var t=this;return new Promise(function(r,n){t.userSession(e).then(function(t){e.getUserAttributes(function(e,t){e?n(e):r(t)})})})},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then(function(e){var r=t.attributesToObject(e),n={},i={};return r.email&&(r.email_verified?i.email=r.email:n.email=r.email),r.phone_number&&(r.phone_number_verified?i.phone_number=r.phone_number:n.phone_number=r.phone_number),{verified:i,unverified:n}})},e.prototype.isErrorWithMessage=function(e){return"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return ia(this,void 0,void 0,function(){var t=this;return iu(this,function(r){switch(r.label){case 0:e.signOut(),this.user=null,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return r.sent(),[3,4];case 3:return r.sent(),il.debug("failed to clear cached items"),[3,4];case 4:if(this.isSignedInHostedUI())return[2,new Promise(function(e,r){t.oAuthSignOutRedirect(e,r)})];return ip("signOut",this.user,"A user has been signed out"),[2]}})})},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise(function(r,n){t._storageSync.then(function(){return ia(t,void 0,void 0,function(){var t,i,o=this;return iu(this,function(s){switch(s.label){case 0:if(!this.isOAuthInProgress())return[3,2];return il.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise(function(e){var t=setTimeout(function(){il.debug("OAuth signIn in progress timeout"),eP.remove("auth",r),e()},1e4);function r(n){var i=n.payload.event;("cognitoHostedUI"===i||"cognitoHostedUI_failure"===i)&&(il.debug("OAuth signIn resolved: "+i),clearTimeout(t),eP.remove("auth",r),e())}eP.listen("auth",r)})];case 1:s.sent(),s.label=2;case 2:if(!(t=this.userPool.getCurrentUser()))return il.debug("Failed to get user from user pool"),n("No current user"),[2];return i=this._config.clientMetadata,t.getSession(function(i,s){return ia(o,void 0,void 0,function(){var o,a,u,c,f=this;return iu(this,function(l){switch(l.label){case 0:if(!i)return[3,5];if(il.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return l.sent(),[3,4];case 3:return o=l.sent(),n(Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return n(i),[2];case 5:if(!(a=!!e&&e.bypassCache))return[3,7];return[4,this.Credentials.clear()];case 6:l.sent(),l.label=7;case 7:if(u=this._config.clientMetadata,!(void 0===(c=s.getAccessToken().decodePayload().scope)?"":c).split(" ").includes(ih))return il.debug("Unable to get the user data because the "+ih+" is not in the scopes of the access token"),[2,r(t)];return t.getUserData(function(e,i){return ia(f,void 0,void 0,function(){var o,s,a,u,c;return iu(this,function(f){switch(f.label){case 0:if(!e)return[3,7];if(il.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return f.sent(),[3,4];case 3:return o=f.sent(),n(Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return n(e),[3,6];case 5:r(t),f.label=6;case 6:return[2];case 7:for(u=0,s=i.PreferredMfaSetting||"NOMFA",a=[];u<i.UserAttributes.length;u++)c=new nk({Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value}),a.push(c);return Object.assign(t,{attributes:this.attributesToObject(a),preferredMFA:s}),[2,r(t)]}})})},{bypassCache:a,clientMetadata:u}),[2]}})})},{clientMetadata:i}),[2]}})})}).catch(function(e){return il.debug("Failed to sync cache info into memory",e),n(e)})}):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return ia(this,void 0,void 0,function(){var t,r,n,i,o;return iu(this,function(s){switch(s.label){case 0:il.debug("getting current authenticated user"),t=null,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this._storageSync];case 2:return s.sent(),[3,4];case 3:throw r=s.sent(),il.debug("Failed to sync cache info into memory",r),r;case 4:try{(n=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=is(is({},n.user),{token:n.token}))}catch(e){il.debug("cannot load federated user from auth storage")}if(!t)return[3,5];return this.user=t,il.debug("get current authenticated federated user",this.user),[2,this.user];case 5:il.debug("get current authenticated userpool user"),i=null,s.label=6;case 6:return s.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=s.sent(),[3,9];case 8:return"No userPool"===(o=s.sent())&&il.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),il.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}})})},e.prototype.currentSession=function(){var e=this;return(il.debug("Getting current session"),this.userPool)?new Promise(function(t,r){e.currentUserPoolUser().then(function(n){e.userSession(n).then(function(e){t(e)}).catch(function(e){il.debug("Failed to get the current session",e),r(e)})}).catch(function(e){il.debug("Failed to get the current user",e),r(e)})}):Promise.reject(Error("No User Pool in the configuration."))},e.prototype.userSession=function(e){var t=this;if(!e)return il.debug("the user is null"),this.rejectAuthError(s.NoUserSession);var r=this._config.clientMetadata;return new Promise(function(n,i){il.debug("Getting the session from this user:",e),e.getSession(function(r,o){return ia(t,void 0,void 0,function(){var t;return iu(this,function(s){switch(s.label){case 0:if(!r)return[3,5];if(il.debug("Failed to get the session from user",e),!this.isSessionInvalid(r))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return s.sent(),[3,4];case 3:return t=s.sent(),i(Error("Session is invalid due to: "+r.message+" and failed to clean up invalid session: "+t.message)),[2];case 4:return i(r),[2];case 5:return il.debug("Succeed to get the user session",o),n(o),[2]}})})},{clientMetadata:r})})},e.prototype.currentUserCredentials=function(){return ia(this,void 0,void 0,function(){var e,t,r=this;return iu(this,function(n){switch(n.label){case 0:il.debug("Getting current user credentials"),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[3,4];case 3:throw e=n.sent(),il.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(e){il.debug("failed to get or parse item aws-amplify-federatedInfo",e)}if(t)return[2,this.Credentials.refreshFederatedToken(t)];return[2,this.currentSession().then(function(e){return il.debug("getting session success",e),r.Credentials.set(e,"session")}).catch(function(){return il.debug("getting guest credentials"),r.Credentials.set(null,"guest")})]}})})},e.prototype.currentCredentials=function(){return il.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,r){return void 0===r&&(r=this._config.clientMetadata),new Promise(function(n,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return n(e)},onFailure:function(e){return i(e)}},r)})},e.prototype.verifyUserAttributeSubmit=function(e,t,r){return r?new Promise(function(n,i){e.verifyAttribute(t,r,{onSuccess:function(e){n(e)},onFailure:function(e){i(e)}})}):this.rejectAuthError(s.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then(function(r){return t.verifyUserAttribute(r,e)})},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var r=this;return r.currentUserPoolUser().then(function(n){return r.verifyUserAttributeSubmit(n,e,t)})},e.prototype.cognitoIdentitySignOut=function(e,t){return ia(this,void 0,void 0,function(){var r,n,i=this;return iu(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw r=o.sent(),il.debug("Failed to sync cache info into memory",r),r;case 3:return n=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise(function(r,o){if(e&&e.global){il.debug("user global sign out",t);var s=i._config.clientMetadata;t.getSession(function(e,s){return ia(i,void 0,void 0,function(){var i,s=this;return iu(this,function(a){switch(a.label){case 0:if(!e)return[3,5];if(il.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),o(Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(il.debug("global sign out success"),!n)return r();s.oAuthSignOutRedirect(r,o)},onFailure:function(e){return il.debug("global sign out failed",e),o(e)}}),[2]}})})},{clientMetadata:s})}else il.debug("user sign out",t),t.signOut(function(){if(!n)return r();i.oAuthSignOutRedirect(r,o)})})]}})})},e.prototype.oAuthSignOutRedirect=function(e,t){eH().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout(function(){return e(Error("Signout timeout fail"))},3e3)},e.prototype.signOut=function(e){return ia(this,void 0,void 0,function(){var t;return iu(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return r.sent(),[3,3];case 2:return r.sent(),il.debug("failed to clear cached items"),[3,3];case 3:if(!this.userPool)return[3,7];if(!(t=this.userPool.getCurrentUser()))return[3,5];return[4,this.cognitoIdentitySignOut(e,t)];case 4:return r.sent(),[3,6];case 5:il.debug("no current Cognito user"),r.label=6;case 6:return[3,8];case 7:il.debug("no Cognito User pool"),r.label=8;case 8:return ip("signOut",this.user,"A user has been signed out"),this.user=null,[2]}})})},e.prototype.cleanCachedItems=function(){return ia(this,void 0,void 0,function(){return iu(this,function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}})})},e.prototype.changePassword=function(e,t,r,n){var i=this;return void 0===n&&(n=this._config.clientMetadata),new Promise(function(o,s){i.userSession(e).then(function(i){e.changePassword(t,r,function(e,t){return e?(il.debug("change password failure",e),s(e)):o(t)},n)})})},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(s.EmptyUsername);var r=this.createCognitoUser(e);return new Promise(function(n,i){r.forgotPassword({onSuccess:function(){n()},onFailure:function(t){il.debug("forgot password failure",t),ip("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){ip("forgotPassword",r,e+" has initiated forgot password flow"),n(t)}},t)})},e.prototype.forgotPasswordSubmit=function(e,t,r,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(s.EmptyUsername);if(!t)return this.rejectAuthError(s.EmptyCode);if(!r)return this.rejectAuthError(s.EmptyPassword);var i=this.createCognitoUser(e);return new Promise(function(o,s){i.confirmPassword(t,r,{onSuccess:function(t){ip("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){ip("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),s(t)}},n)})},e.prototype.currentUserInfo=function(){return ia(this,void 0,void 0,function(){var e,t,r,n,i,o,s;return iu(this,function(a){switch(a.label){case 0:if(!(!(e=this.Credentials.getCredSource())||"aws"===e||"userPool"===e))return[3,9];return[4,this.currentUserPoolUser().catch(function(e){return il.error(e)})];case 1:if(!(t=a.sent()))return[2,null];a.label=2;case 2:return a.trys.push([2,8,,9]),[4,this.userAttributes(t)];case 3:r=a.sent(),n=this.attributesToObject(r),i=null,a.label=4;case 4:return a.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return i=a.sent(),[3,7];case 6:return o=a.sent(),il.debug("Failed to retrieve credentials while getting current user info",o),[3,7];case 7:return[2,{id:i?i.identityId:void 0,username:t.getUsername(),attributes:n}];case 8:return s=a.sent(),il.error("currentUserInfo error",s),[2,{}];case 9:if("federated"===e)return[2,(t=this.user)||{}];return[2]}})})},e.prototype.federatedSignIn=function(e,t,r){return ia(this,void 0,void 0,function(){var s,a,u,c,f,l,h,d,p,g,v;return iu(this,function(y){switch(y.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw Error("Federation requires either a User Pool or Identity Pool in config");if(void 0===e&&this._config.identityPoolId&&!this._config.userPoolId)throw Error("Federation with Identity Pools requires tokens passed as arguments");if(!(n(e)||e&&["customProvider"].find(function(t){return e.hasOwnProperty(t)})||e&&["customState"].find(function(t){return e.hasOwnProperty(t)})||void 0===e))return[3,1];return a=n(s=e||{provider:o.Cognito})?s.provider:s.customProvider,n(s),u=s.customState,this._config.userPoolId&&(c=i(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,f=i(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,f,c,a,u)),[3,4];case 1:a=e;try{(l=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&il.warn("There is already a signed in user: "+l+" in your app.\n																	You should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(e){}return h=t.token,d=t.identity_id,p=t.expires_at,[4,this.Credentials.set({provider:a,token:h,identity_id:d,user:r,expires_at:p},"federation")];case 2:return g=y.sent(),[4,this.currentAuthenticatedUser()];case 3:return ip("signIn",v=y.sent(),"A user "+v.username+" has been signed in"),il.debug("federated sign in credentials",g),[2,g];case 4:return[2]}})})},e.prototype._handleAuthResponse=function(e){return ia(this,void 0,void 0,function(){var t,r,n,i,o,s,a,u,c,f,l,h,d;return iu(this,function(p){switch(p.label){case 0:if(this.oAuthFlowInProgress)return il.debug("Skipping URL "+e+" current flow in progress"),[2];p.label=1;case 1:if(p.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw Error("OAuth responses require a User Pool defined in config");if(ip("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(eH().isBrowser?window.location.href:""),r=!!((0,nJ.parse)(t).query||"").split("&").map(function(e){return e.split("=")}).find(function(e){var t=ic(e,1)[0];return"code"===t||"error"===t}),n=!!((0,nJ.parse)(t).hash||"#").substr(1).split("&").map(function(e){return e.split("=")}).find(function(e){var t=ic(e,1)[0];return"access_token"===t||"error"===t}),!(r||n))return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),p.label=2;case 2:return p.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:if(o=(i=p.sent()).accessToken,s=i.idToken,a=i.refreshToken,u=i.state,c=new nI({IdToken:new nS({IdToken:s}),RefreshToken:new nA({RefreshToken:a}),AccessToken:new nw({AccessToken:o})}),f=void 0,!this._config.identityPoolId)return[3,5];return[4,this.Credentials.set(c,"session")];case 4:f=p.sent(),il.debug("AWS credentials",f),p.label=5;case 5:return l=/-/.test(u),(h=this.createCognitoUser(c.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(c),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ip("signIn",h,"A user "+h.getUsername()+" has been signed in"),ip("cognitoHostedUI",h,"A user "+h.getUsername()+" has been signed in via Cognito Hosted UI"),l&&ip("customOAuthState",u.split("-").splice(1).join("-").match(/.{2}/g).map(function(e){return String.fromCharCode(parseInt(e,16))}).join(""),"State for user "+h.getUsername()),[2,f];case 6:return d=p.sent(),il.debug("Error in cognito hosted auth response",d),window&&void 0!==window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),ip("signIn_failure",d,"The OAuth response flow failed"),ip("cognitoHostedUI_failure",d,"A failure occurred when returning to the Cognito Hosted UI"),ip("customState_failure",d,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}})})},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,r={};return e&&e.map(function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?r[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:r[e.Name]=e.Value}),r},e.prototype.isTruthyString=function(e){return"function"==typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var r=this._config.authenticationFlowType,n=new nD(t);return r&&n.setAuthenticationFlowType(r),n},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"==typeof e.getItem&&"function"==typeof e.setItem&&"function"==typeof e.removeItem&&"function"==typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?s.NoConfig:s.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new ir(e))},e.prototype.rejectNoUserPool=function(){return Promise.reject(new ii(this.noUserPoolErrorHandler(this._config)))},e.prototype.rememberDevice=function(){return ia(this,void 0,void 0,function(){var e,t;return iu(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:return t=r.sent(),il.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,r){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?r(new ir(s.DeviceConfig)):"NetworkError"===e.code?r(new ir(s.NetworkError)):r(e)}})})]}})})},e.prototype.forgetDevice=function(){return ia(this,void 0,void 0,function(){var e,t;return iu(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:return t=r.sent(),il.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,r){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?r(new ir(s.DeviceConfig)):"NetworkError"===e.code?r(new ir(s.NetworkError)):r(e)}})})]}})})},e.prototype.fetchDevices=function(){return ia(this,void 0,void 0,function(){var e,t;return iu(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=r.sent(),[3,3];case 2:throw t=r.sent(),il.debug("The user is not authenticated by the error",t),Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise(function(t,r){e.listDevices(60,null,{onSuccess:function(e){t(e.Devices.map(function(e){var t=e.DeviceAttributes.find(function(e){return"device_name"===e.Name})||{};return{id:e.DeviceKey,name:t.Value}}))},onFailure:function(e){"InvalidParameterException"===e.code?r(new ir(s.DeviceConfig)):"NetworkError"===e.code?r(new ir(s.NetworkError)):r(e)}})})]}})})},e}())(null);tt.register(ig)},7869:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(0xff000000&e)>>24,(0xff0000&e)>>16,(65280&e)>>8,255&e])}},7905:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(9085).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7986:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,r(9921).__exportStar)(r(4342),t)},8166:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,r(9921).__exportStar)(r(1510),t);var n=r(5873);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return n.Sha256}});var i=r(5638);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},8347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var n=r(9812);t.RawSha256=function(){function e(){this.state=Int32Array.from(n.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error("Attempted to update an already finished hash.");var t=0,r=e.byteLength;if(this.bytesHashed+=r,8*this.bytesHashed>n.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=e[t++],r--,this.bufferLength===n.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(t.setUint8(this.bufferLength++,128),r%n.BLOCK_SIZE>=n.BLOCK_SIZE-8){for(var i=this.bufferLength;i<n.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<n.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(n.BLOCK_SIZE-8,Math.floor(e/0x100000000),!0),t.setUint32(n.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(n.DIGEST_LENGTH),i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,r=t[0],i=t[1],o=t[2],s=t[3],a=t[4],u=t[5],c=t[6],f=t[7],l=0;l<n.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var h=this.temp[l-2],d=(h>>>17|h<<15)^(h>>>19|h<<13)^h>>>10,p=((h=this.temp[l-15])>>>7|h<<25)^(h>>>18|h<<14)^h>>>3;this.temp[l]=(d+this.temp[l-7]|0)+(p+this.temp[l-16]|0)}var g=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&u^~a&c)|0)+(f+(n.KEY[l]+this.temp[l]|0)|0)|0,v=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&o^i&o)|0;f=c,c=u,u=a,a=s+g|0,s=o,o=i,i=r,r=g+v|0}t[0]+=r,t[1]+=i,t[2]+=o,t[3]+=s,t[4]+=a,t[5]+=u,t[6]+=c,t[7]+=f},e}()},8443:(e,t,r)=>{"use strict";r.r(t),r.d(t,{locateWindow:()=>i});let n={};function i(){return"undefined"!=typeof window?window:"undefined"!=typeof self?self:n}},8475:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},8608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"==typeof e?0===e.length:0===e.byteLength}},8867:(e,t,r)=>{var n=r(6668),i=r(5051);i.v1=n,i.v4=i,e.exports=i},9195:(e,t,r)=>{var n,i;!function(o){var s;void 0!==(i="function"==typeof(n=o)?n.call(t,r,t,e):n)&&(e.exports=i),e.exports=o()}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(new Date*1+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var u in o){if(o[u])a+="; "+u,!0!==o[u]&&(a+="="+o[u].split(";")[0])}return document.cookie=t+"="+r+a}}function s(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),u=a.slice(1).join("=");r||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(a[0]);if(u=(n.read||n)(u,c)||t(u),r)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}(function(){})})},9812:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),t.INIT=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],t.MAX_HASHABLE_LENGTH=0x1fffffffffffff},9921:(e,t,r)=>{"use strict";r.r(t),r.d(t,{__assign:()=>o,__asyncDelegator:()=>w,__asyncGenerator:()=>b,__asyncValues:()=>_,__await:()=>m,__awaiter:()=>f,__classPrivateFieldGet:()=>E,__classPrivateFieldSet:()=>I,__createBinding:()=>h,__decorate:()=>a,__exportStar:()=>d,__extends:()=>i,__generator:()=>l,__importDefault:()=>C,__importStar:()=>A,__makeTemplateObject:()=>S,__metadata:()=>c,__param:()=>u,__read:()=>g,__rest:()=>s,__spread:()=>v,__spreadArrays:()=>y,__values:()=>p});var n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function i(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var o=function(){return(o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function s(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function a(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s}function u(e,t){return function(r,n){t(r,n,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function f(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})}function l(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function h(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}function d(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||(t[r]=e[r])}function p(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function y(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)n[i]=o[s];return n}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,i=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){i[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||a(e,t)})})}function a(e,t){try{var r;(r=i[e](t)).value instanceof m?Promise.resolve(r.value.v).then(u,c):f(o[0][2],r)}catch(e){f(o[0][3],e)}}function u(e){a("next",e)}function c(e){a("throw",e)}function f(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function w(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,i){t[n]=e[n]?function(t){return(r=!r)?{value:m(e[n](t)),done:"return"===n}:i?i(t):t}:i}}function _(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=p(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function C(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!t.has(e))throw TypeError("attempted to get private field on non-instance");return t.get(e)}function I(e,t,r){if(!t.has(e))throw TypeError("attempted to set private field on non-instance");return t.set(e,r),r}}}]);